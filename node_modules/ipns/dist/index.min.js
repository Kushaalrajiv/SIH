(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Ipns = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Ipns=(()=>{var Rl=Object.create;var Yn=Object.defineProperty;var Nl=Object.getOwnPropertyDescriptor;var Dl=Object.getOwnPropertyNames;var kl=Object.getPrototypeOf,Ll=Object.prototype.hasOwnProperty;var Q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),kt=(t,e)=>{for(var r in e)Yn(t,r,{get:e[r],enumerable:!0})},cs=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Dl(e))!Ll.call(t,i)&&i!==r&&Yn(t,i,{get:()=>e[i],enumerable:!(n=Nl(e,i))||n.enumerable});return t};var Bt=(t,e,r)=>(r=t!=null?Rl(kl(t)):{},cs(e||!t||!t.__esModule?Yn(r,"default",{value:t,enumerable:!0}):r,t)),Ul=t=>cs(Yn({},"__esModule",{value:!0}),t);var pt=Q((s2,us)=>{us.exports={options:{usePureJavaScript:!1}}});var ds=Q((f2,hs)=>{var to={};hs.exports=to;var ls={};to.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Pl(t,e);else{var i=0,o=e.length,a=e.charAt(0),s=[0];for(i=0;i<t.length;++i){for(var f=0,c=t[i];f<s.length;++f)c+=s[f]<<8,s[f]=c%o,c=c/o|0;for(;c>0;)s.push(c%o),c=c/o|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=e[s[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};to.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=ls[e];if(!r){r=ls[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,o=e.charAt(0),a=[0],n=0;n<t.length;n++){var s=r[t.charCodeAt(n)];if(s===void 0)return;for(var f=0,c=s;f<a.length;++f)c+=a[f]*i,a[f]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var u=0;t[u]===o&&u<t.length-1;++u)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Pl(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var a=0,s=t.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=o.length-1;r>=0;--r)f+=e[o[r]];return f}});var Rt=Q((c2,xs)=>{var ps=pt(),ys=ds(),m=xs.exports=ps.util=ps.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){m.nextTick=process.nextTick,typeof setImmediate=="function"?m.setImmediate=setImmediate:m.setImmediate=m.nextTick;return}if(typeof setImmediate=="function"){m.setImmediate=function(){return setImmediate.apply(void 0,arguments)},m.nextTick=function(s){return setImmediate(s)};return}if(m.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(u){u()})}};var a=s,t="forge.setImmediate",e=[];m.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=m.setImmediate;m.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),o(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}m.nextTick=m.setImmediate})();m.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;m.globalScope=function(){return m.isNodejs?globalThis:typeof self>"u"?window:self}();m.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};m.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};m.isArrayBufferView=function(t){return t&&m.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function vn(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}m.ByteBuffer=eo;function eo(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(m.isArrayBuffer(t)||m.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof eo||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}m.ByteStringBuffer=eo;var Kl=4096;m.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Kl&&(this.data.substr(0,1),this._constructedStringLength=0)};m.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};m.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};m.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};m.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};m.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};m.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(m.encodeUtf8(t))};m.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};m.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};m.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};m.ByteStringBuffer.prototype.putInt=function(t,e){vn(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};m.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};m.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};m.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};m.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};m.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};m.ByteStringBuffer.prototype.getInt=function(t){vn(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};m.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};m.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};m.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};m.ByteStringBuffer.prototype.copy=function(){var t=m.createBuffer(this.data);return t.read=this.read,t};m.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};m.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};m.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};m.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.ByteStringBuffer.prototype.toString=function(){return m.decodeUtf8(this.bytes())};function Ol(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=m.isArrayBuffer(t),n=m.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}m.DataBuffer=Ol;m.DataBuffer.prototype.length=function(){return this.write-this.read};m.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};m.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};m.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};m.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};m.DataBuffer.prototype.putBytes=function(t,e){if(m.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(m.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof m.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&m.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof m.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var o;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.hex.decode(t,o,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.base64.decode(t,o,this.write),this;if(e==="utf8"&&(t=m.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.raw.decode(o),this;if(e==="utf16")return this.accommodate(t.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=m.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};m.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};m.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};m.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};m.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};m.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};m.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};m.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};m.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};m.DataBuffer.prototype.putInt=function(t,e){vn(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};m.DataBuffer.prototype.putSignedInt=function(t,e){return vn(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};m.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};m.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};m.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};m.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};m.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};m.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};m.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};m.DataBuffer.prototype.getInt=function(t){vn(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};m.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};m.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};m.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};m.DataBuffer.prototype.copy=function(){return new m.DataBuffer(this)};m.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};m.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};m.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};m.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return m.binary.raw.encode(e);if(t==="hex")return m.binary.hex.encode(e);if(t==="base64")return m.binary.base64.encode(e);if(t==="utf8")return m.text.utf8.decode(e);if(t==="utf16")return m.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};m.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=m.encodeUtf8(t)),new m.ByteBuffer(t)};m.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};m.xorBytes=function(t,e,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o,n};m.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};m.bytesToHex=function(t){return m.createBuffer(t).toHex()};m.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Je=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],gs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";m.encode64=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.length;)i=t.charCodeAt(s++),o=t.charCodeAt(s++),a=t.charCodeAt(s++),r+=Xe.charAt(i>>2),r+=Xe.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Xe.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Xe.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,o,a=0;a<t.length;)r=Je[t.charCodeAt(a++)-43],n=Je[t.charCodeAt(a++)-43],i=Je[t.charCodeAt(a++)-43],o=Je[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(e+=String.fromCharCode((i&3)<<6|o)));return e};m.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};m.decodeUtf8=function(t){return decodeURIComponent(escape(t))};m.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:ys.encode,decode:ys.decode}};m.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};m.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};m.binary.hex.encode=m.bytesToHex;m.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,o=r;for(t.length&1&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n};m.binary.base64.encode=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.byteLength;)i=t[s++],o=t[s++],a=t[s++],r+=Xe.charAt(i>>2),r+=Xe.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Xe.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Xe.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,s,f=0,c=r;f<t.length;)i=Je[t.charCodeAt(f++)-43],o=Je[t.charCodeAt(f++)-43],a=Je[t.charCodeAt(f++)-43],s=Je[t.charCodeAt(f++)-43],n[c++]=i<<2|o>>4,a!==64&&(n[c++]=(o&15)<<4|a>>2,s!==64&&(n[c++]=(a&3)<<6|s));return e?c-r:n.subarray(0,c)};m.binary.base58.encode=function(t,e){return m.binary.baseN.encode(t,gs,e)};m.binary.base58.decode=function(t,e){return m.binary.baseN.decode(t,gs,e)};m.text={utf8:{},utf16:{}};m.text.utf8.encode=function(t,e,r){t=m.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};m.text.utf8.decode=function(t){return m.decodeUtf8(String.fromCharCode.apply(null,t))};m.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,s=0;s<t.length;++s)i[a++]=t.charCodeAt(s),o+=2;return e?o-r:n};m.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};m.deflate=function(t,e,r){if(e=m.decode64(t.deflate(m.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};m.inflate=function(t,e,r){var n=t.inflate(m.encode64(e)).rval;return n===null?null:m.decode64(n)};var ro=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=m.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},no=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(m.decode64(r))),r},Fl=function(t,e,r,n){var i=no(t,e);i===null&&(i={}),i[r]=n,ro(t,e,i)},Ml=function(t,e,r){var n=no(t,e);return n!==null&&(n=r in n?n[r]:null),n},Vl=function(t,e,r){var n=no(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),ro(t,e,n)}},ql=function(t,e){ro(t,e,null)},Wn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var s in r){i=r[s];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),o=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),o=!0)}catch(f){a=f}if(o)break}if(!o)throw a;return n};m.setItem=function(t,e,r,n,i){Wn(Fl,arguments,i)};m.getItem=function(t,e,r,n){return Wn(Ml,arguments,n)};m.removeItem=function(t,e,r,n){Wn(Vl,arguments,n)};m.clearItems=function(t,e,r){Wn(ql,arguments,r)};m.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};m.format=function(t){for(var e=/%./g,r,n,i=0,o=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&o.push(n),a=e.lastIndex;var s=r[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(t.substring(a)),o.join("")};m.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,s=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+s:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")};m.formatSize=function(t){return t>=1073741824?t=m.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=m.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=m.formatNumber(t/1024,0)+" KiB":t=m.formatNumber(t,0)+" bytes",t};m.bytesFromIP=function(t){return t.indexOf(".")!==-1?m.bytesFromIPv4(t):t.indexOf(":")!==-1?m.bytesFromIPv6(t):null};m.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=m.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};m.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=m.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=m.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};m.bytesToIP=function(t){return t.length===4?m.bytesToIPv4(t):t.length===16?m.bytesToIPv6(t):null};m.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};m.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=m.bytesToHex(t[i]+t[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],s=e.length;!a||s!==a.end+1?r.push({start:s,end:s}):(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};m.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in m&&!t.update)return e(null,m.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return m.cores=navigator.hardwareConcurrency,e(null,m.cores);if(typeof Worker>"u")return m.cores=1,e(null,m.cores);if(typeof Blob>"u")return m.cores=2,e(null,m.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var s=Date.now(),f=s+4;Date.now()<f;);self.postMessage({st:s,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,s,f){if(s===0){var c=Math.floor(a.reduce(function(u,l){return u+l},0)/a.length);return m.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,m.cores)}i(f,function(u,l){a.push(o(f,l)),n(a,s-1,f)})}function i(a,s){for(var f=[],c=[],u=0;u<a;++u){var l=new Worker(r);l.addEventListener("message",function(h){if(c.push(h.data),c.length===a){for(var g=0;g<a;++g)f[g].terminate();s(null,c)}}),f.push(l)}for(var u=0;u<a;++u)f[u].postMessage(u)}function o(a,s){for(var f=[],c=0;c<a;++c)for(var u=s[c],l=f[c]=[],h=0;h<a;++h)if(c!==h){var g=s[h];(u.st>g.st&&u.st<g.et||g.st>u.st&&g.st<u.et)&&l.push(h)}return f.reduce(function(d,p){return Math.max(d,p.length)},0)}}});var Zn=Q((u2,ms)=>{var bn=pt();bn.pki=bn.pki||{};var io=ms.exports=bn.pki.oids=bn.oids=bn.oids||{};function D(t,e){io[t]=e,io[e]=t}function ht(t,e){io[t]=e}D("1.2.840.113549.1.1.1","rsaEncryption");D("1.2.840.113549.1.1.4","md5WithRSAEncryption");D("1.2.840.113549.1.1.5","sha1WithRSAEncryption");D("1.2.840.113549.1.1.7","RSAES-OAEP");D("1.2.840.113549.1.1.8","mgf1");D("1.2.840.113549.1.1.9","pSpecified");D("1.2.840.113549.1.1.10","RSASSA-PSS");D("1.2.840.113549.1.1.11","sha256WithRSAEncryption");D("1.2.840.113549.1.1.12","sha384WithRSAEncryption");D("1.2.840.113549.1.1.13","sha512WithRSAEncryption");D("1.3.101.112","EdDSA25519");D("1.2.840.10040.4.3","dsa-with-sha1");D("1.3.14.3.2.7","desCBC");D("1.3.14.3.2.26","sha1");D("1.3.14.3.2.29","sha1WithRSASignature");D("2.16.840.1.101.3.4.2.1","sha256");D("2.16.840.1.101.3.4.2.2","sha384");D("2.16.840.1.101.3.4.2.3","sha512");D("2.16.840.1.101.3.4.2.4","sha224");D("2.16.840.1.101.3.4.2.5","sha512-224");D("2.16.840.1.101.3.4.2.6","sha512-256");D("1.2.840.113549.2.2","md2");D("1.2.840.113549.2.5","md5");D("1.2.840.113549.1.7.1","data");D("1.2.840.113549.1.7.2","signedData");D("1.2.840.113549.1.7.3","envelopedData");D("1.2.840.113549.1.7.4","signedAndEnvelopedData");D("1.2.840.113549.1.7.5","digestedData");D("1.2.840.113549.1.7.6","encryptedData");D("1.2.840.113549.1.9.1","emailAddress");D("1.2.840.113549.1.9.2","unstructuredName");D("1.2.840.113549.1.9.3","contentType");D("1.2.840.113549.1.9.4","messageDigest");D("1.2.840.113549.1.9.5","signingTime");D("1.2.840.113549.1.9.6","counterSignature");D("1.2.840.113549.1.9.7","challengePassword");D("1.2.840.113549.1.9.8","unstructuredAddress");D("1.2.840.113549.1.9.14","extensionRequest");D("1.2.840.113549.1.9.20","friendlyName");D("1.2.840.113549.1.9.21","localKeyId");D("1.2.840.113549.1.9.22.1","x509Certificate");D("1.2.840.113549.1.12.10.1.1","keyBag");D("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");D("1.2.840.113549.1.12.10.1.3","certBag");D("1.2.840.113549.1.12.10.1.4","crlBag");D("1.2.840.113549.1.12.10.1.5","secretBag");D("1.2.840.113549.1.12.10.1.6","safeContentsBag");D("1.2.840.113549.1.5.13","pkcs5PBES2");D("1.2.840.113549.1.5.12","pkcs5PBKDF2");D("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");D("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");D("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");D("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");D("1.2.840.113549.2.7","hmacWithSHA1");D("1.2.840.113549.2.8","hmacWithSHA224");D("1.2.840.113549.2.9","hmacWithSHA256");D("1.2.840.113549.2.10","hmacWithSHA384");D("1.2.840.113549.2.11","hmacWithSHA512");D("1.2.840.113549.3.7","des-EDE3-CBC");D("2.16.840.1.101.3.4.1.2","aes128-CBC");D("2.16.840.1.101.3.4.1.22","aes192-CBC");D("2.16.840.1.101.3.4.1.42","aes256-CBC");D("2.5.4.3","commonName");D("2.5.4.4","surname");D("2.5.4.5","serialNumber");D("2.5.4.6","countryName");D("2.5.4.7","localityName");D("2.5.4.8","stateOrProvinceName");D("2.5.4.9","streetAddress");D("2.5.4.10","organizationName");D("2.5.4.11","organizationalUnitName");D("2.5.4.12","title");D("2.5.4.13","description");D("2.5.4.15","businessCategory");D("2.5.4.17","postalCode");D("2.5.4.42","givenName");D("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");D("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");D("2.16.840.1.113730.1.1","nsCertType");D("2.16.840.1.113730.1.13","nsComment");ht("2.5.29.1","authorityKeyIdentifier");ht("2.5.29.2","keyAttributes");ht("2.5.29.3","certificatePolicies");ht("2.5.29.4","keyUsageRestriction");ht("2.5.29.5","policyMapping");ht("2.5.29.6","subtreesConstraint");ht("2.5.29.7","subjectAltName");ht("2.5.29.8","issuerAltName");ht("2.5.29.9","subjectDirectoryAttributes");ht("2.5.29.10","basicConstraints");ht("2.5.29.11","nameConstraints");ht("2.5.29.12","policyConstraints");ht("2.5.29.13","basicConstraints");D("2.5.29.14","subjectKeyIdentifier");D("2.5.29.15","keyUsage");ht("2.5.29.16","privateKeyUsagePeriod");D("2.5.29.17","subjectAltName");D("2.5.29.18","issuerAltName");D("2.5.29.19","basicConstraints");ht("2.5.29.20","cRLNumber");ht("2.5.29.21","cRLReason");ht("2.5.29.22","expirationDate");ht("2.5.29.23","instructionCode");ht("2.5.29.24","invalidityDate");ht("2.5.29.25","cRLDistributionPoints");ht("2.5.29.26","issuingDistributionPoint");ht("2.5.29.27","deltaCRLIndicator");ht("2.5.29.28","issuingDistributionPoint");ht("2.5.29.29","certificateIssuer");ht("2.5.29.30","nameConstraints");D("2.5.29.31","cRLDistributionPoints");D("2.5.29.32","certificatePolicies");ht("2.5.29.33","policyMappings");ht("2.5.29.34","policyConstraints");D("2.5.29.35","authorityKeyIdentifier");ht("2.5.29.36","policyConstraints");D("2.5.29.37","extKeyUsage");ht("2.5.29.46","freshestCRL");ht("2.5.29.54","inhibitAnyPolicy");D("1.3.6.1.4.1.11129.2.4.2","timestampList");D("1.3.6.1.5.5.7.1.1","authorityInfoAccess");D("1.3.6.1.5.5.7.3.1","serverAuth");D("1.3.6.1.5.5.7.3.2","clientAuth");D("1.3.6.1.5.5.7.3.3","codeSigning");D("1.3.6.1.5.5.7.3.4","emailProtection");D("1.3.6.1.5.5.7.3.8","timeStamping")});var En=Q((l2,bs)=>{var xt=pt();Rt();Zn();var M=bs.exports=xt.asn1=xt.asn1||{};M.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};M.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};M.create=function(t,e,r,n,i){if(xt.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var s={tagClass:t,type:e,constructed:r,composed:r||xt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(s.bitStringContents=i.bitStringContents,s.original=M.copy(s)),s};M.copy=function(t,e){var r;if(xt.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(M.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:M.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};M.equals=function(t,e,r){if(xt.util.isArray(t)){if(!xt.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!M.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&M.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};M.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function wn(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var Hl=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;wn(t,e,o),n=t.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};M.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=xt.util.createBuffer(t));var r=t.length(),n=Qn(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function Qn(t,e,r,n){var i;wn(t,e,2);var o=t.getByte();e--;var a=o&192,s=o&31;i=t.length();var f=Hl(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=f,c}f=e}var u,l,h=(o&32)===32;if(h)if(u=[],f===void 0)for(;;){if(wn(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),u.push(Qn(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),u.push(Qn(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(u===void 0&&a===M.Class.UNIVERSAL&&s===M.Type.BITSTRING&&(l=t.bytes(f)),u===void 0&&n.decodeBitStrings&&a===M.Class.UNIVERSAL&&s===M.Type.BITSTRING&&f>1){var g=t.read,d=e,p=0;if(s===M.Type.BITSTRING&&(wn(t,e,1),p=t.getByte(),e--),p===0)try{i=t.length();var y={strict:!0,decodeBitStrings:!0},x=Qn(t,e,r+1,y),w=i-t.length();e-=w,s==M.Type.BITSTRING&&w++;var b=x.tagClass;w===f&&(b===M.Class.UNIVERSAL||b===M.Class.CONTEXT_SPECIFIC)&&(u=[x])}catch{}u===void 0&&(t.read=g,e=d)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(s===M.Type.BMPSTRING)for(u="";f>0;f-=2)wn(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(f),e-=f}var k=l===void 0?null:{bitStringContents:l};return M.create(a,s,h,u,k)}M.toDer=function(t){var e=xt.util.createBuffer(),r=t.tagClass|t.type,n=xt.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=M.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var o=0;o<t.value.length;++o)t.value[o]!==void 0&&n.putBuffer(M.toDer(t.value[o]))}else if(t.type===M.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)n.putInt16(t.value.charCodeAt(o));else t.type===M.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),s="";do s+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(s.length|128);for(var o=s.length-1;o>=0;--o)e.putByte(s.charCodeAt(o))}return e.putBuffer(n),e};M.oidToDer=function(t){var e=t.split("."),r=xt.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,o,a,s=2;s<e.length;++s){n=!0,i=[],o=parseInt(e[s],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};M.derToOid=function(t){var e;typeof t=="string"&&(t=xt.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};M.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var f=t.charAt(10),c=10;f!=="+"&&f!=="-"&&(s=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,0),c&&(f=t.charAt(c),f==="+"||f==="-")){var u=parseInt(t.substr(c+1,2),10),l=parseInt(t.substr(c+4,2),10),h=u*60+l;h*=6e4,f==="+"?e.setTime(+e-h):e.setTime(+e+h)}return e};M.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),f=0,c=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var l=t.length-5,h=t.charAt(l);if(h==="+"||h==="-"){var g=parseInt(t.substr(l+1,2),10),d=parseInt(t.substr(l+4,2),10);c=g*60+d,c*=6e4,h==="+"&&(c*=-1),u=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,f),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,a,s,f)),e};M.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};M.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};M.integerToDer=function(t){var e=xt.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};M.derToInteger=function(t){typeof t=="string"&&(t=xt.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};M.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&xt.util.isArray(e.value))for(var o=0,a=0;i&&a<e.value.length;++a)i=e.value[a].optional||!1,t.value[o]&&(i=M.validate(t.value[o],e.value[a],r,n),i?++o:e.value[a].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var s;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var vs=/[^\\u0000-\\u00ff]/;M.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case M.Class.UNIVERSAL:n+="Universal:";break;case M.Class.APPLICATION:n+="Application:";break;case M.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case M.Class.PRIVATE:n+="Private:";break}if(t.tagClass===M.Class.UNIVERSAL)switch(n+=t.type,t.type){case M.Type.NONE:n+=" (None)";break;case M.Type.BOOLEAN:n+=" (Boolean)";break;case M.Type.INTEGER:n+=" (Integer)";break;case M.Type.BITSTRING:n+=" (Bit string)";break;case M.Type.OCTETSTRING:n+=" (Octet string)";break;case M.Type.NULL:n+=" (Null)";break;case M.Type.OID:n+=" (Object Identifier)";break;case M.Type.ODESC:n+=" (Object Descriptor)";break;case M.Type.EXTERNAL:n+=" (External or Instance of)";break;case M.Type.REAL:n+=" (Real)";break;case M.Type.ENUMERATED:n+=" (Enumerated)";break;case M.Type.EMBEDDED:n+=" (Embedded PDV)";break;case M.Type.UTF8:n+=" (UTF8)";break;case M.Type.ROID:n+=" (Relative Object Identifier)";break;case M.Type.SEQUENCE:n+=" (Sequence)";break;case M.Type.SET:n+=" (Set)";break;case M.Type.PRINTABLESTRING:n+=" (Printable String)";break;case M.Type.IA5String:n+=" (IA5String (ASCII))";break;case M.Type.UTCTIME:n+=" (UTC time)";break;case M.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case M.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,s="",o=0;o<t.value.length;++o)t.value[o]!==void 0&&(a+=1,s+=M.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(s+=","));n+=i+"Sub values: "+a+s}else{if(n+=i+"Value: ",t.type===M.Type.OID){var f=M.derToOid(t.value);n+=f,xt.pki&&xt.pki.oids&&f in xt.pki.oids&&(n+=" ("+xt.pki.oids[f]+") ")}if(t.type===M.Type.INTEGER)try{n+=M.derToInteger(t.value)}catch{n+="0x"+xt.util.bytesToHex(t.value)}else if(t.type===M.Type.BITSTRING){if(t.value.length>1?n+="0x"+xt.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===M.Type.OCTETSTRING)vs.test(t.value)||(n+="("+t.value+") "),n+="0x"+xt.util.bytesToHex(t.value);else if(t.type===M.Type.UTF8)try{n+=xt.util.decodeUtf8(t.value)}catch(u){if(u.message==="URI malformed")n+="0x"+xt.util.bytesToHex(t.value)+" (malformed UTF8)";else throw u}else t.type===M.Type.PRINTABLESTRING||t.type===M.Type.IA5String?n+=t.value:vs.test(t.value)?n+="0x"+xt.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var ao=Q((h2,ws)=>{var Lt=pt();Rt();ws.exports=Lt.cipher=Lt.cipher||{};Lt.cipher.algorithms=Lt.cipher.algorithms||{};Lt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Lt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Lt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Lt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Lt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Lt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Lt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Lt.cipher.algorithms[t]=e};Lt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Lt.cipher.algorithms?Lt.cipher.algorithms[t]:null};var oo=Lt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};oo.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Lt.util.createBuffer(),this.output=t.output||Lt.util.createBuffer(),this.mode.start(e)};oo.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};oo.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var fo=Q((d2,Es)=>{var Ut=pt();Rt();Ut.cipher=Ut.cipher||{};var rt=Es.exports=Ut.cipher.modes=Ut.cipher.modes||{};rt.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};rt.ecb.prototype.start=function(t){};rt.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};rt.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};rt.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};rt.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};rt.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};rt.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Xn(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};rt.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};rt.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};rt.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};rt.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};rt.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0};rt.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Xn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};rt.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};rt.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};rt.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0};rt.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Xn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};rt.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};rt.ofb.prototype.decrypt=rt.ofb.prototype.encrypt;rt.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0};rt.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Xn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};rt.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Jn(this._inBlock)};rt.ctr.prototype.decrypt=rt.ctr.prototype.encrypt;rt.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ut.util.createBuffer(),this._partialBytes=0,this._R=3774873600};rt.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Ut.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Ut.util.createBuffer(t.additionalData):r=Ut.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Ut.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(so(n*8)))}this._inBlock=this._j0.slice(0),Jn(this._inBlock),this._partialBytes=0,r=Ut.util.createBuffer(r),this._aDataLength=so(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};rt.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Jn(this._inBlock)};rt.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Jn(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};rt.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Ut.util.createBuffer();var n=this._aDataLength.concat(so(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};rt.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var o=t[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};rt.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};rt.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,o=this._m[r][i];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e};rt.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};rt.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],f=a/n|0,c=(n-1-a%n)*e;s[f]=1<<e-1<<c,o[a]=this.generateSubHashTable(this.multiply(s,t),e)}return o};rt.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],f=i[a];i[o+a]=[s[0]^f[0],s[1]^f[1],s[2]^f[2],s[3]^f[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function Xn(t,e){if(typeof t=="string"&&(t=Ut.util.createBuffer(t)),Ut.util.isArray(t)&&t.length>4){var r=t;t=Ut.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Ut.util.isArray(t)){for(var i=[],o=e/4,n=0;n<o;++n)i.push(t.getInt32());t=i}return t}function Jn(t){t[t.length-1]=t[t.length-1]+1&4294967295}function so(t){return[t/4294967296|0,t&4294967295]}});var ho=Q((p2,As)=>{var gt=pt();ao();fo();Rt();As.exports=gt.aes=gt.aes||{};gt.aes.startEncrypting=function(t,e,r,n){var i=jn({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};gt.aes.createEncryptionCipher=function(t,e){return jn({key:t,output:null,decrypt:!1,mode:e})};gt.aes.startDecrypting=function(t,e,r,n){var i=jn({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};gt.aes.createDecryptionCipher=function(t,e){return jn({key:t,output:null,decrypt:!0,mode:e})};gt.aes.Algorithm=function(t,e){lo||Bs();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return uo(r._w,n,i,!1)},decrypt:function(n,i){return uo(r._w,n,i,!0)}}}),r._init=!1};gt.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=gt.util.createBuffer(e);else if(gt.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=gt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!gt.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!gt.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=Cs(e,t.decrypt&&!a),this._init=!0}};gt.aes._expandKey=function(t,e){return lo||Bs(),Cs(t,e)};gt.aes._updateBlock=uo;Pr("AES-ECB",gt.cipher.modes.ecb);Pr("AES-CBC",gt.cipher.modes.cbc);Pr("AES-CFB",gt.cipher.modes.cfb);Pr("AES-OFB",gt.cipher.modes.ofb);Pr("AES-CTR",gt.cipher.modes.ctr);Pr("AES-GCM",gt.cipher.modes.gcm);function Pr(t,e){var r=function(){return new gt.aes.Algorithm(t,e)};gt.cipher.registerAlgorithm(t,r)}var lo=!1,Ur=4,Gt,co,Ss,pr,le;function Bs(){lo=!0,Ss=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Gt=new Array(256),co=new Array(256),pr=new Array(4),le=new Array(4);for(var e=0;e<4;++e)pr[e]=new Array(256),le[e]=new Array(256);for(var r=0,n=0,i,o,a,s,f,c,u,e=0;e<256;++e){s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^s&255^99,Gt[r]=s,co[s]=r,f=t[s],i=t[r],o=t[i],a=t[o],c=f<<24^s<<16^s<<8^(s^f),u=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var l=0;l<4;++l)pr[l][r]=c,le[l][s]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^t[t[t[i^a]]],n^=t[t[n]])}}function Cs(t,e){for(var r=t.slice(0),n,i=1,o=r.length,a=o+6+1,s=Ur*a,f=o;f<s;++f)n=r[f-1],f%o===0?(n=Gt[n>>>16&255]<<24^Gt[n>>>8&255]<<16^Gt[n&255]<<8^Gt[n>>>24]^Ss[i]<<24,i++):o>6&&f%o===4&&(n=Gt[n>>>24]<<24^Gt[n>>>16&255]<<16^Gt[n>>>8&255]<<8^Gt[n&255]),r[f]=r[f-o]^n;if(e){var c,u=le[0],l=le[1],h=le[2],g=le[3],d=r.slice(0);s=r.length;for(var f=0,p=s-Ur;f<s;f+=Ur,p-=Ur)if(f===0||f===s-Ur)d[f]=r[p],d[f+1]=r[p+3],d[f+2]=r[p+2],d[f+3]=r[p+1];else for(var y=0;y<Ur;++y)c=r[p+y],d[f+(3&-y)]=u[Gt[c>>>24]]^l[Gt[c>>>16&255]]^h[Gt[c>>>8&255]]^g[Gt[c&255]];r=d}return r}function uo(t,e,r,n){var i=t.length/4-1,o,a,s,f,c;n?(o=le[0],a=le[1],s=le[2],f=le[3],c=co):(o=pr[0],a=pr[1],s=pr[2],f=pr[3],c=Gt);var u,l,h,g,d,p,y;u=e[0]^t[0],l=e[n?3:1]^t[1],h=e[2]^t[2],g=e[n?1:3]^t[3];for(var x=3,w=1;w<i;++w)d=o[u>>>24]^a[l>>>16&255]^s[h>>>8&255]^f[g&255]^t[++x],p=o[l>>>24]^a[h>>>16&255]^s[g>>>8&255]^f[u&255]^t[++x],y=o[h>>>24]^a[g>>>16&255]^s[u>>>8&255]^f[l&255]^t[++x],g=o[g>>>24]^a[u>>>16&255]^s[l>>>8&255]^f[h&255]^t[++x],u=d,l=p,h=y;r[0]=c[u>>>24]<<24^c[l>>>16&255]<<16^c[h>>>8&255]<<8^c[g&255]^t[++x],r[n?3:1]=c[l>>>24]<<24^c[h>>>16&255]<<16^c[g>>>8&255]<<8^c[u&255]^t[++x],r[2]=c[h>>>24]<<24^c[g>>>16&255]<<16^c[u>>>8&255]<<8^c[l&255]^t[++x],r[n?1:3]=c[g>>>24]<<24^c[u>>>16&255]<<16^c[l>>>8&255]<<8^c[h&255]^t[++x]}function jn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=gt.cipher.createDecipher(r,t.key):n=gt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof gt.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var Is=Q((y2,_s)=>{var vt=pt();ao();fo();Rt();_s.exports=vt.des=vt.des||{};vt.des.startEncrypting=function(t,e,r,n){var i=ti({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};vt.des.createEncryptionCipher=function(t,e){return ti({key:t,output:null,decrypt:!1,mode:e})};vt.des.startDecrypting=function(t,e,r,n){var i=ti({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};vt.des.createDecryptionCipher=function(t,e){return ti({key:t,output:null,decrypt:!0,mode:e})};vt.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Ts(r._keys,n,i,!1)},decrypt:function(n,i){return Ts(r._keys,n,i,!0)}}}),r._init=!1};vt.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=vt.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=Jl(e),this._init=!0}};we("DES-ECB",vt.cipher.modes.ecb);we("DES-CBC",vt.cipher.modes.cbc);we("DES-CFB",vt.cipher.modes.cfb);we("DES-OFB",vt.cipher.modes.ofb);we("DES-CTR",vt.cipher.modes.ctr);we("3DES-ECB",vt.cipher.modes.ecb);we("3DES-CBC",vt.cipher.modes.cbc);we("3DES-CFB",vt.cipher.modes.cfb);we("3DES-OFB",vt.cipher.modes.ofb);we("3DES-CTR",vt.cipher.modes.ctr);function we(t,e){var r=function(){return new vt.des.Algorithm(t,e)};vt.cipher.registerAlgorithm(t,r)}var zl=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Gl=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],$l=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Yl=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Wl=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Zl=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Ql=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Xl=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Jl(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],d=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],p=t.length()>8?3:1,y=[],x=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],w=0,b,k=0;k<p;k++){var E=t.getInt32(),S=t.getInt32();b=(E>>>4^S)&252645135,S^=b,E^=b<<4,b=(S>>>-16^E)&65535,E^=b,S^=b<<-16,b=(E>>>2^S)&858993459,S^=b,E^=b<<2,b=(S>>>-16^E)&65535,E^=b,S^=b<<-16,b=(E>>>1^S)&1431655765,S^=b,E^=b<<1,b=(S>>>8^E)&16711935,E^=b,S^=b<<8,b=(E>>>1^S)&1431655765,S^=b,E^=b<<1,b=E<<8|S>>>20&240,E=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=b;for(var L=0;L<x.length;++L){x[L]?(E=E<<2|E>>>26,S=S<<2|S>>>26):(E=E<<1|E>>>27,S=S<<1|S>>>27),E&=-15,S&=-15;var B=e[E>>>28]|r[E>>>24&15]|n[E>>>20&15]|i[E>>>16&15]|o[E>>>12&15]|a[E>>>8&15]|s[E>>>4&15],K=f[S>>>28]|c[S>>>24&15]|u[S>>>20&15]|l[S>>>16&15]|h[S>>>12&15]|g[S>>>8&15]|d[S>>>4&15];b=(K>>>16^B)&65535,y[w++]=B^b,y[w++]=K^b<<16}}return y}function Ts(t,e,r,n){var i=t.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,s=e[0],f=e[1];a=(s>>>4^f)&252645135,f^=a,s^=a<<4,a=(s>>>16^f)&65535,f^=a,s^=a<<16,a=(f>>>2^s)&858993459,s^=a,f^=a<<2,a=(f>>>8^s)&16711935,s^=a,f^=a<<8,a=(s>>>1^f)&1431655765,f^=a,s^=a<<1,s=s<<1|s>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=o[c+1],l=o[c+2],h=o[c];h!=u;h+=l){var g=f^t[h],d=(f>>>4|f<<28)^t[h+1];a=s,s=f,f=a^(Gl[g>>>24&63]|Yl[g>>>16&63]|Zl[g>>>8&63]|Xl[g&63]|zl[d>>>24&63]|$l[d>>>16&63]|Wl[d>>>8&63]|Ql[d&63])}a=s,s=f,f=a}s=s>>>1|s<<31,f=f>>>1|f<<31,a=(s>>>1^f)&1431655765,f^=a,s^=a<<1,a=(f>>>8^s)&16711935,s^=a,f^=a<<8,a=(f>>>2^s)&858993459,s^=a,f^=a<<2,a=(s>>>16^f)&65535,f^=a,s^=a<<16,a=(s>>>4^f)&252645135,f^=a,s^=a<<4,r[0]=s,r[1]=f}function ti(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=vt.cipher.createDecipher(r,t.key):n=vt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof vt.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var yr=Q((g2,Rs)=>{var ei=pt();Rs.exports=ei.md=ei.md||{};ei.md.algorithms=ei.md.algorithms||{}});var Ds=Q((x2,Ns)=>{var Ke=pt();yr();Rt();var jl=Ns.exports=Ke.hmac=Ke.hmac||{};jl.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in Ke.md.algorithms)e=Ke.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else e=o;if(a===null)a=t;else{if(typeof a=="string")a=Ke.util.createBuffer(a);else if(Ke.util.isArray(a)){var s=a;a=Ke.util.createBuffer();for(var f=0;f<s.length;++f)a.putByte(s[f])}var c=a.length();c>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=Ke.util.createBuffer(),n=Ke.util.createBuffer(),c=a.length();for(var f=0;f<c;++f){var s=a.at(f);r.putByte(54^s),n.putByte(92^s)}if(c<e.blockLength)for(var s=e.blockLength-c,f=0;f<s;++f)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(o){e.update(o)},i.getMac=function(){var o=e.digest().bytes();return e.start(),e.update(n),e.update(o),e.digest()},i.digest=i.getMac,i}});var ri=Q(()=>{});var Ls=Q((b2,ks)=>{var $t=pt();Ds();yr();Rt();var th=$t.pkcs5=$t.pkcs5||{},Oe;$t.util.isNodejs&&!$t.options.usePureJavaScript&&(Oe=ri());ks.exports=$t.pbkdf2=th.pbkdf2=function(t,e,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),$t.util.isNodejs&&!$t.options.usePureJavaScript&&Oe.pbkdf2&&(i===null||typeof i!="object")&&(Oe.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),o?Oe.pbkdf2Sync.length===4?Oe.pbkdf2(t,e,r,n,function(b,k){if(b)return o(b);o(null,k.toString("binary"))}):Oe.pbkdf2(t,e,r,n,i,function(b,k){if(b)return o(b);o(null,k.toString("binary"))}):Oe.pbkdf2Sync.length===4?Oe.pbkdf2Sync(t,e,r,n).toString("binary"):Oe.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in $t.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=$t.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var s=new Error("Derived key is too long.");if(o)return o(s);throw s}var f=Math.ceil(n/a),c=n-(f-1)*a,u=$t.hmac.create();u.start(i,t);var l="",h,g,d;if(!o){for(var p=1;p<=f;++p){u.start(null,null),u.update(e),u.update($t.util.int32ToBytes(p)),h=d=u.digest().getBytes();for(var y=2;y<=r;++y)u.start(null,null),u.update(d),g=u.digest().getBytes(),h=$t.util.xorBytes(h,g,a),d=g;l+=p<f?h:h.substr(0,c)}return l}var p=1,y;function x(){if(p>f)return o(null,l);u.start(null,null),u.update(e),u.update($t.util.int32ToBytes(p)),h=d=u.digest().getBytes(),y=2,w()}function w(){if(y<=r)return u.start(null,null),u.update(d),g=u.digest().getBytes(),h=$t.util.xorBytes(h,g,a),d=g,++y,$t.util.setImmediate(w);l+=p<f?h:h.substr(0,c),++p,x()}x()}});var Ks=Q((w2,Ps)=>{var ii=pt();Rt();var Us=Ps.exports=ii.pem=ii.pem||{};Us.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=ni(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=ni(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=ni(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=ni(t.headers[i]);return t.procType&&(r+=`\r
`),r+=ii.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Us.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(t),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var s={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ii.util.decode64(o[3])};if(e.push(s),!!o[2]){for(var f=o[2].split(i),c=0;o&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),l=c+1;l<f.length;++l){var h=f[l];if(!/\s/.test(h[0]))break;u+=h,c=l}if(o=u.match(n),o){for(var g={name:o[1],values:[]},d=o[2].split(","),p=0;p<d.length;++p)g.values.push(eh(d[p]));if(s.procType)if(!s.contentDomain&&g.name==="Content-Domain")s.contentDomain=d[0]||"";else if(!s.dekInfo&&g.name==="DEK-Info"){if(g.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:d[0],parameters:d[1]||null}}else s.headers.push(g);else{if(g.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(g.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:d[0],type:d[1]}}}++c}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function ni(t){for(var e=t.name+": ",r=[],n=function(f,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<e.length;++i,++o)if(o>65&&a!==-1){var s=e[a];s===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+s+e.substr(a+1),o=i-a-1,a=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(a=i);return e}function eh(t){return t.replace(/^\s+/,"")}});var Hs=Q((E2,qs)=>{var Ee=pt();yr();Rt();var Fs=qs.exports=Ee.sha256=Ee.sha256||{};Ee.md.sha256=Ee.md.algorithms.sha256=Fs;Fs.create=function(){Ms||rh();var t=null,e=Ee.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Ee.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ee.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),Os(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ee.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(po.substr(0,n.blockLength-a));for(var s,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)s=n.fullMessageLength[u+1]*8,f=s/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=s>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Os(l,r,i);var h=Ee.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var po=null,Ms=!1,Vs=null;function rh(){po=String.fromCharCode(128),po+=Ee.util.fillString(String.fromCharCode(0),64),Vs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ms=!0}function Os(t,e,r){for(var n,i,o,a,s,f,c,u,l,h,g,d,p,y,x,w=r.length();w>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(u=t.h0,l=t.h1,h=t.h2,g=t.h3,d=t.h4,p=t.h5,y=t.h6,x=t.h7,c=0;c<64;++c)a=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),s=y^d&(p^y),o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&l|h&(u^l),n=x+a+s+Vs[c]+e[c],i=o+f,x=y,y=p,p=d,d=g+n>>>0,g=h,h=l,l=u,u=n+i>>>0;t.h0=t.h0+u|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+g|0,t.h4=t.h4+d|0,t.h5=t.h5+p|0,t.h6=t.h6+y|0,t.h7=t.h7+x|0,w-=64}}});var Gs=Q((S2,zs)=>{var Se=pt();Rt();var oi=null;Se.util.isNodejs&&!Se.options.usePureJavaScript&&!process.versions["node-webkit"]&&(oi=ri());var nh=zs.exports=Se.prng=Se.prng||{};nh.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,u){if(!u)return e.generateSync(c);var l=e.plugin.cipher,h=e.plugin.increment,g=e.plugin.formatKey,d=e.plugin.formatSeed,p=Se.util.createBuffer();e.key=null,y();function y(x){if(x)return u(x);if(p.length()>=c)return u(null,p.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Se.util.nextTick(function(){o(y)});var w=l(e.key,e.seed);e.generated+=w.length,p.putBytes(w),e.key=g(l(e.key,h(e.seed))),e.seed=d(l(e.key,e.seed)),Se.util.setImmediate(y)}},e.generateSync=function(c){var u=e.plugin.cipher,l=e.plugin.increment,h=e.plugin.formatKey,g=e.plugin.formatSeed;e.key=null;for(var d=Se.util.createBuffer();d.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&a();var p=u(e.key,e.seed);e.generated+=p.length,d.putBytes(p),e.key=h(u(e.key,l(e.seed))),e.seed=g(u(e.key,e.seed))}return d.getBytes(c)};function o(c){if(e.pools[0].messageLength>=32)return s(),c();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(l,h){if(l)return c(l);e.collect(h),s(),c()})}function a(){if(e.pools[0].messageLength>=32)return s();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),s()}function s(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var u=1,l=0;l<32;++l)e.reseeds%u===0&&(c.update(e.pools[l].digest().getBytes()),e.pools[l].start()),u=u<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var h=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(h),e.generated=0}function f(c){var u=null,l=Se.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(u=function(E){return h.getRandomValues(E)});var g=Se.util.createBuffer();if(u)for(;g.length()<c;){var d=Math.max(1,Math.min(c-g.length(),65536)/4),p=new Uint32Array(Math.floor(d));try{u(p);for(var y=0;y<p.length;++y)g.putInt32(p[y])}catch(E){if(!(typeof QuotaExceededError<"u"&&E instanceof QuotaExceededError))throw E}}if(g.length()<c)for(var x,w,b,k=Math.floor(Math.random()*65536);g.length()<c;){w=16807*(k&65535),x=16807*(k>>16),w+=(x&32767)<<16,w+=x>>15,w=(w&2147483647)+(w>>31),k=w&4294967295;for(var y=0;y<3;++y)b=k>>>(y<<3),b^=Math.floor(Math.random()*256),g.putByte(b&255)}return g.getBytes(c)}return oi?(e.seedFile=function(c,u){oi.randomBytes(c,function(l,h){if(l)return u(l);u(null,h.toString())})},e.seedFileSync=function(c){return oi.randomBytes(c).toString()}):(e.seedFile=function(c,u){try{u(null,f(c))}catch(l){u(l)}},e.seedFileSync=f),e.collect=function(c){for(var u=c.length,l=0;l<u;++l)e.pools[e.pool].update(c.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,u){for(var l="",h=0;h<u;h+=8)l+=String.fromCharCode(c>>h&255);e.collect(l)},e.registerWorker=function(c){if(c===self)e.seedFile=function(l,h){function g(d){var p=d.data;p.forge&&p.forge.prng&&(self.removeEventListener("message",g),h(p.forge.prng.err,p.forge.prng.bytes))}self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:l}}})};else{var u=function(l){var h=l.data;h.forge&&h.forge.prng&&e.seedFile(h.forge.prng.needed,function(g,d){c.postMessage({forge:{prng:{err:g,bytes:d}}})})};c.addEventListener("message",u)}},e}});var Sn=Q((B2,yo)=>{var Pt=pt();ho();Hs();Gs();Rt();(function(){if(Pt.random&&Pt.random.getBytes){yo.exports=Pt.random;return}(function(t){var e={},r=new Array(4),n=Pt.util.createBuffer();e.formatKey=function(l){var h=Pt.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),Pt.aes._expandKey(l,!1)},e.formatSeed=function(l){var h=Pt.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},e.cipher=function(l,h){return Pt.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=Pt.md.sha256;function i(){var l=Pt.prng.create(e);return l.getBytes=function(h,g){return l.generate(h,g)},l.getBytesSync=function(h){return l.generate(h)},l}var o=i(),a=null,s=Pt.util.globalScope,f=s.crypto||s.msCrypto;if(f&&f.getRandomValues&&(a=function(l){return f.getRandomValues(l)}),Pt.options.usePureJavaScript||!Pt.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}o.collect(c),c=null}t&&(t().mousemove(function(l){o.collectInt(l.clientX,16),o.collectInt(l.clientY,16)}),t().keypress(function(l){o.collectInt(l.charCode,8)}))}if(!Pt.random)Pt.random=o;else for(var u in o)Pt.random[u]=o[u];Pt.random.createInstance=i,yo.exports=Pt.random})(typeof jQuery<"u"?jQuery:null)})()});var Zs=Q((C2,Ws)=>{var Zt=pt();Rt();var go=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],$s=[1,2,3,5],ih=function(t,e){return t<<e&65535|(t&65535)>>16-e},oh=function(t,e){return(t&65535)>>e|t<<16-e&65535};Ws.exports=Zt.rc2=Zt.rc2||{};Zt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Zt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,o=Math.ceil(i/8),a=255>>(i&7),s;for(s=n;s<128;s++)r.putByte(go[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-o,go[r.at(128-o)&a]),s=127-o;s>=0;s--)r.setAt(s,go[r.at(s+1)^r.at(s+o)]);return r};var Ys=function(t,e,r){var n=!1,i=null,o=null,a=null,s,f,c,u,l=[];for(t=Zt.rc2.expandKey(t,e),c=0;c<64;c++)l.push(t.getInt16Le());r?(s=function(d){for(c=0;c<4;c++)d[c]+=l[u]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),d[c]=ih(d[c],$s[c]),u++},f=function(d){for(c=0;c<4;c++)d[c]+=l[d[(c+3)%4]&63]}):(s=function(d){for(c=3;c>=0;c--)d[c]=oh(d[c],$s[c]),d[c]-=l[u]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),u--},f=function(d){for(c=3;c>=0;c--)d[c]-=l[d[(c+3)%4]&63]});var h=function(d){var p=[];for(c=0;c<4;c++){var y=i.getInt16Le();a!==null&&(r?y^=a.getInt16Le():a.putInt16Le(y)),p.push(y&65535)}u=r?0:63;for(var x=0;x<d.length;x++)for(var w=0;w<d[x][0];w++)d[x][1](p);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(p[c]):p[c]^=a.getInt16Le()),o.putInt16Le(p[c])},g=null;return g={start:function(d,p){d&&typeof d=="string"&&(d=Zt.util.createBuffer(d)),n=!1,i=Zt.util.createBuffer(),o=p||new Zt.util.createBuffer,a=d,g.output=o},update:function(d){for(n||i.putBuffer(d);i.length()>=8;)h([[5,s],[1,f],[6,s],[1,f],[5,s]])},finish:function(d){var p=!0;if(r)if(d)p=d(8,i,!r);else{var y=i.length()===8?8:8-i.length();i.fillWithByte(y,y)}if(p&&(n=!0,g.update()),!r&&(p=i.length()===0,p))if(d)p=d(8,o,!r);else{var x=o.length(),w=o.at(x-1);w>x?p=!1:o.truncate(w)}return p}},g};Zt.rc2.startEncrypting=function(t,e,r){var n=Zt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Zt.rc2.createEncryptionCipher=function(t,e){return Ys(t,e,!0)};Zt.rc2.startDecrypting=function(t,e,r){var n=Zt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Zt.rc2.createDecryptionCipher=function(t,e){return Ys(t,e,!1)}});var fi=Q((A2,n0)=>{var xo=pt();n0.exports=xo.jsbn=xo.jsbn||{};var Fe,ah=0xdeadbeefcafe,Qs=(ah&16777215)==15715070;function I(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}xo.jsbn.BigInteger=I;function st(){return new I(null)}function sh(t,e,r,n,i,o){for(;--o>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}function fh(t,e,r,n,i,o){for(var a=e&32767,s=e>>15;--o>=0;){var f=this.data[t]&32767,c=this.data[t++]>>15,u=s*f+c*a;f=a*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+s*c+(i>>>30),r.data[n++]=f&1073741823}return i}function Xs(t,e,r,n,i,o){for(var a=e&16383,s=e>>14;--o>=0;){var f=this.data[t]&16383,c=this.data[t++]>>14,u=s*f+c*a;f=a*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+s*c,r.data[n++]=f&268435455}return i}typeof navigator>"u"?(I.prototype.am=Xs,Fe=28):Qs&&navigator.appName=="Microsoft Internet Explorer"?(I.prototype.am=fh,Fe=30):Qs&&navigator.appName!="Netscape"?(I.prototype.am=sh,Fe=26):(I.prototype.am=Xs,Fe=28);I.prototype.DB=Fe;I.prototype.DM=(1<<Fe)-1;I.prototype.DV=1<<Fe;var mo=52;I.prototype.FV=Math.pow(2,mo);I.prototype.F1=mo-Fe;I.prototype.F2=2*Fe-mo;var ch="0123456789abcdefghijklmnopqrstuvwxyz",ai=new Array,Kr,oe;Kr="0".charCodeAt(0);for(oe=0;oe<=9;++oe)ai[Kr++]=oe;Kr="a".charCodeAt(0);for(oe=10;oe<36;++oe)ai[Kr++]=oe;Kr="A".charCodeAt(0);for(oe=10;oe<36;++oe)ai[Kr++]=oe;function Js(t){return ch.charAt(t)}function js(t,e){var r=ai[t.charCodeAt(e)];return r??-1}function uh(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function lh(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function je(t){var e=st();return e.fromInt(t),e}function hh(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=r==8?t[n]&255:js(t,n);if(a<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&t[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&I.ZERO.subTo(this,this)}function dh(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function ph(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this.data[a]>>s)>0&&(i=!0,o=Js(n));a>=0;)s<e?(n=(this.data[a]&(1<<s)-1)<<e-s,n|=this.data[--a]>>(s+=this.DB-e)):(n=this.data[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=Js(n));return i?o:"0"}function yh(){var t=st();return I.ZERO.subTo(this,t),t}function gh(){return this.s<0?this.negate():this}function xh(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function si(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function mh(){return this.t<=0?0:this.DB*(this.t-1)+si(this.data[this.t-1]^this.s&this.DM)}function vh(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function bh(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function wh(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)e.data[s+o+1]=this.data[s]>>n|a,a=(this.data[s]&i)<<r;for(s=o-1;s>=0;--s)e.data[s]=0;e.data[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()}function Eh(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&o)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function Sh(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Bh(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&I.ZERO.subTo(e,e)}function Ch(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Ah(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=st());var o=st(),a=this.s,s=t.s,f=this.DB-si(n.data[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,u=o.data[c-1];if(u!=0){var l=u*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),h=this.FV/l,g=(1<<this.F1)/l,d=1<<this.F2,p=r.t,y=p-c,x=e??st();for(o.dlShiftTo(y,x),r.compareTo(x)>=0&&(r.data[r.t++]=1,r.subTo(x,r)),I.ONE.dlShiftTo(c,x),x.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--y>=0;){var w=r.data[--p]==u?this.DM:Math.floor(r.data[p]*h+(r.data[p-1]+d)*g);if((r.data[p]+=o.am(0,w,r,y,0,c))<w)for(o.dlShiftTo(y,x),r.subTo(x,r);r.data[p]<--w;)r.subTo(x,r)}e!=null&&(r.drShiftTo(c,e),a!=s&&I.ZERO.subTo(e,e)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&I.ZERO.subTo(r,r)}}}function Th(t){var e=st();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(I.ZERO)>0&&t.subTo(e,e),e}function gr(t){this.m=t}function _h(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Ih(t){return t}function Rh(t){t.divRemTo(this.m,null,t)}function Nh(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Dh(t,e){t.squareTo(e),this.reduce(e)}gr.prototype.convert=_h;gr.prototype.revert=Ih;gr.prototype.reduce=Rh;gr.prototype.mulTo=Nh;gr.prototype.sqrTo=Dh;function kh(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function xr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Lh(t){var e=st();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(I.ZERO)>0&&this.m.subTo(e,e),e}function Uh(t){var e=st();return t.copyTo(e),this.reduce(e),e}function Ph(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Kh(t,e){t.squareTo(e),this.reduce(e)}function Oh(t,e,r){t.multiplyTo(e,r),this.reduce(r)}xr.prototype.convert=Lh;xr.prototype.revert=Uh;xr.prototype.reduce=Ph;xr.prototype.mulTo=Oh;xr.prototype.sqrTo=Kh;function Fh(){return(this.t>0?this.data[0]&1:this.s)==0}function Mh(t,e){if(t>4294967295||t<1)return I.ONE;var r=st(),n=st(),i=e.convert(this),o=si(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)}function Vh(t,e){var r;return t<256||e.isEven()?r=new gr(e):r=new xr(e),this.exp(t,r)}I.prototype.copyTo=uh;I.prototype.fromInt=lh;I.prototype.fromString=hh;I.prototype.clamp=dh;I.prototype.dlShiftTo=vh;I.prototype.drShiftTo=bh;I.prototype.lShiftTo=wh;I.prototype.rShiftTo=Eh;I.prototype.subTo=Sh;I.prototype.multiplyTo=Bh;I.prototype.squareTo=Ch;I.prototype.divRemTo=Ah;I.prototype.invDigit=kh;I.prototype.isEven=Fh;I.prototype.exp=Mh;I.prototype.toString=ph;I.prototype.negate=yh;I.prototype.abs=gh;I.prototype.compareTo=xh;I.prototype.bitLength=mh;I.prototype.mod=Th;I.prototype.modPowInt=Vh;I.ZERO=je(0);I.ONE=je(1);function qh(){var t=st();return this.copyTo(t),t}function Hh(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function zh(){return this.t==0?this.s:this.data[0]<<24>>24}function Gh(){return this.t==0?this.s:this.data[0]<<16>>16}function $h(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Yh(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Wh(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=je(r),i=st(),o=st(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a}function Zh(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,s=0;s<t.length;++s){var f=js(t,s);if(f<0){t.charAt(s)=="-"&&this.signum()==0&&(i=!0);continue}a=e*a+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&I.ZERO.subTo(this,this)}function Qh(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(I.ONE.shiftLeft(t-1),vo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(I.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function Xh(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function Jh(t){return this.compareTo(t)==0}function jh(t){return this.compareTo(t)<0?this:t}function td(t){return this.compareTo(t)>0?this:t}function ed(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function rd(t,e){return t&e}function nd(t){var e=st();return this.bitwiseTo(t,rd,e),e}function vo(t,e){return t|e}function id(t){var e=st();return this.bitwiseTo(t,vo,e),e}function t0(t,e){return t^e}function od(t){var e=st();return this.bitwiseTo(t,t0,e),e}function e0(t,e){return t&~e}function ad(t){var e=st();return this.bitwiseTo(t,e0,e),e}function sd(){for(var t=st(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function fd(t){var e=st();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function cd(t){var e=st();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function ud(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function ld(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+ud(this.data[t]);return this.s<0?this.t*this.DB:-1}function hd(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function dd(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=hd(this.data[r]^e);return t}function pd(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function yd(t,e){var r=I.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function gd(t){return this.changeBit(t,vo)}function xd(t){return this.changeBit(t,e0)}function md(t){return this.changeBit(t,t0)}function vd(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function bd(t){var e=st();return this.addTo(t,e),e}function wd(t){var e=st();return this.subTo(t,e),e}function Ed(t){var e=st();return this.multiplyTo(t,e),e}function Sd(t){var e=st();return this.divRemTo(t,e,null),e}function Bd(t){var e=st();return this.divRemTo(t,null,e),e}function Cd(t){var e=st(),r=st();return this.divRemTo(t,e,r),new Array(e,r)}function Ad(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Td(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function Bn(){}function r0(t){return t}function _d(t,e,r){t.multiplyTo(e,r)}function Id(t,e){t.squareTo(e)}Bn.prototype.convert=r0;Bn.prototype.revert=r0;Bn.prototype.mulTo=_d;Bn.prototype.sqrTo=Id;function Rd(t){return this.exp(t,new Bn)}function Nd(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Dd(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Or(t){this.r2=st(),this.q3=st(),I.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function kd(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=st();return t.copyTo(e),this.reduce(e),e}function Ld(t){return t}function Ud(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Pd(t,e){t.squareTo(e),this.reduce(e)}function Kd(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Or.prototype.convert=kd;Or.prototype.revert=Ld;Or.prototype.reduce=Ud;Or.prototype.mulTo=Kd;Or.prototype.sqrTo=Pd;function Od(t,e){var r=t.bitLength(),n,i=je(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new gr(e):e.isEven()?o=new Or(e):o=new xr(e);var a=new Array,s=3,f=n-1,c=(1<<n)-1;if(a[1]=o.convert(this),n>1){var u=st();for(o.sqrTo(a[1],u);s<=c;)a[s]=st(),o.mulTo(u,a[s-2],a[s]),s+=2}var l=t.t-1,h,g=!0,d=st(),p;for(r=si(t.data[l])-1;l>=0;){for(r>=f?h=t.data[l]>>r-f&c:(h=(t.data[l]&(1<<r+1)-1)<<f-r,l>0&&(h|=t.data[l-1]>>this.DB+r-f)),s=n;!(h&1);)h>>=1,--s;if((r-=s)<0&&(r+=this.DB,--l),g)a[h].copyTo(i),g=!1;else{for(;s>1;)o.sqrTo(i,d),o.sqrTo(d,i),s-=2;s>0?o.sqrTo(i,d):(p=i,i=d,d=p),o.mulTo(d,a[h],i)}for(;l>=0&&!(t.data[l]&1<<r);)o.sqrTo(i,d),p=i,i=d,d=p,--r<0&&(r=this.DB-1,--l)}return o.revert(i)}function Fd(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function Md(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function Vd(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return I.ZERO;for(var r=t.clone(),n=this.clone(),i=je(1),o=je(0),a=je(0),s=je(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!s.isEven())&&(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),e&&a.subTo(i,a),s.subTo(o,s))}if(n.compareTo(I.ONE)!=0)return I.ZERO;if(s.compareTo(t)>=0)return s.subtract(t);if(s.signum()<0)s.addTo(t,s);else return s;return s.signum()<0?s.add(t):s}var he=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],qd=(1<<26)/he[he.length-1];function Hd(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=he[he.length-1]){for(e=0;e<he.length;++e)if(r.data[0]==he[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<he.length;){for(var n=he[e],i=e+1;i<he.length&&n<qd;)n*=he[i++];for(n=r.modInt(n);e<i;)if(n%he[e++]==0)return!1}return r.millerRabin(t)}function zd(t){var e=this.subtract(I.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=Gd(),o,a=0;a<t;++a){do o=new I(this.bitLength(),i);while(o.compareTo(I.ONE)<=0||o.compareTo(e)>=0);var s=o.modPow(n,this);if(s.compareTo(I.ONE)!=0&&s.compareTo(e)!=0){for(var f=1;f++<r&&s.compareTo(e)!=0;)if(s=s.modPowInt(2,this),s.compareTo(I.ONE)==0)return!1;if(s.compareTo(e)!=0)return!1}}return!0}function Gd(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}I.prototype.chunkSize=$h;I.prototype.toRadix=Wh;I.prototype.fromRadix=Zh;I.prototype.fromNumber=Qh;I.prototype.bitwiseTo=ed;I.prototype.changeBit=yd;I.prototype.addTo=vd;I.prototype.dMultiply=Ad;I.prototype.dAddOffset=Td;I.prototype.multiplyLowerTo=Nd;I.prototype.multiplyUpperTo=Dd;I.prototype.modInt=Md;I.prototype.millerRabin=zd;I.prototype.clone=qh;I.prototype.intValue=Hh;I.prototype.byteValue=zh;I.prototype.shortValue=Gh;I.prototype.signum=Yh;I.prototype.toByteArray=Xh;I.prototype.equals=Jh;I.prototype.min=jh;I.prototype.max=td;I.prototype.and=nd;I.prototype.or=id;I.prototype.xor=od;I.prototype.andNot=ad;I.prototype.not=sd;I.prototype.shiftLeft=fd;I.prototype.shiftRight=cd;I.prototype.getLowestSetBit=ld;I.prototype.bitCount=dd;I.prototype.testBit=pd;I.prototype.setBit=gd;I.prototype.clearBit=xd;I.prototype.flipBit=md;I.prototype.add=bd;I.prototype.subtract=wd;I.prototype.multiply=Ed;I.prototype.divide=Sd;I.prototype.remainder=Bd;I.prototype.divideAndRemainder=Cd;I.prototype.modPow=Od;I.prototype.modInverse=Vd;I.prototype.pow=Rd;I.prototype.gcd=Fd;I.prototype.isProbablePrime=Hd});var f0=Q((T2,s0)=>{var Be=pt();yr();Rt();var o0=s0.exports=Be.sha1=Be.sha1||{};Be.md.sha1=Be.md.algorithms.sha1=o0;o0.create=function(){a0||$d();var t=null,e=Be.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Be.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Be.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),i0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Be.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(bo.substr(0,n.blockLength-a));for(var s,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)s=n.fullMessageLength[u+1]*8,f=s/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=s>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};i0(l,r,i);var h=Be.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var bo=null,a0=!1;function $d(){bo=String.fromCharCode(128),bo+=Be.util.fillString(String.fromCharCode(0),64),a0=!0}function i0(t,e,r){for(var n,i,o,a,s,f,c,u,l=r.length();l>=64;){for(i=t.h0,o=t.h1,a=t.h2,s=t.h3,f=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,c=s^o&(a^s),n=(i<<5|i>>>27)+c+f+1518500249+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=s^o&(a^s),n=(i<<5|i>>>27)+c+f+1518500249+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=o^a^s,n=(i<<5|i>>>27)+c+f+1859775393+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o^a^s,n=(i<<5|i>>>27)+c+f+1859775393+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o&a|s&(o^a),n=(i<<5|i>>>27)+c+f+2400959708+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o^a^s,n=(i<<5|i>>>27)+c+f+3395469782+n,f=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+a|0,t.h3=t.h3+s|0,t.h4=t.h4+f|0,l-=64}}});var l0=Q((_2,u0)=>{var Ce=pt();Rt();Sn();f0();var c0=u0.exports=Ce.pkcs1=Ce.pkcs1||{};c0.encode_rsa_oaep=function(t,e,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=Ce.md.sha1.create(),a||(a=o);var s=Math.ceil(t.n.bitLength()/8),f=s-2*o.digestLength-2;if(e.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=f,c}n||(n=""),o.update(n,"raw");for(var u=o.digest(),l="",h=f-e.length,g=0;g<h;g++)l+="\0";var d=u.getBytes()+l+""+e;if(!i)i=Ce.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var p=ci(i,s-o.digestLength-1,a),y=Ce.util.xorBytes(d,p,d.length),x=ci(y,o.digestLength,a),w=Ce.util.xorBytes(i,x,i.length);return"\0"+w+y};c0.decode_rsa_oaep=function(t,e,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var y=new Error("RSAES-OAEP encoded message length is invalid.");throw y.length=e.length,y.expectedLength=a,y}if(i===void 0?i=Ce.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var s=i.digest().getBytes(),f=e.charAt(0),c=e.substring(1,i.digestLength+1),u=e.substring(1+i.digestLength),l=ci(u,i.digestLength,o),h=Ce.util.xorBytes(c,l,c.length),g=ci(h,a-i.digestLength-1,o),d=Ce.util.xorBytes(u,g,u.length),p=d.substring(0,i.digestLength),y=f!=="\0",x=0;x<i.digestLength;++x)y|=s.charAt(x)!==p.charAt(x);for(var w=1,b=i.digestLength,k=i.digestLength;k<d.length;k++){var E=d.charCodeAt(k),S=E&1^1,L=w?65534:0;y|=E&L,w=w&S,b+=w}if(y||d.charCodeAt(b)!==1)throw new Error("Invalid RSAES-OAEP padding.");return d.substring(b+1)};function ci(t,e,r){r||(r=Ce.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}});var h0=Q((I2,wo)=>{var tr=pt();Rt();fi();Sn();(function(){if(tr.prime){wo.exports=tr.prime;return}var t=wo.exports=tr.prime=tr.prime||{},e=tr.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,h){return l|h};t.generateProbablePrime=function(l,h,g){typeof h=="function"&&(g=h,h={}),h=h||{};var d=h.algorithm||"PRIMEINC";typeof d=="string"&&(d={name:d}),d.options=d.options||{};var p=h.prng||tr.random,y={nextBytes:function(x){for(var w=p.getBytesSync(x.length),b=0;b<x.length;++b)x[b]=w.charCodeAt(b)}};if(d.name==="PRIMEINC")return o(l,y,d.options,g);throw new Error("Invalid prime generation algorithm: "+d.name)};function o(l,h,g,d){return"workers"in g?f(l,h,g,d):a(l,h,g,d)}function a(l,h,g,d){var p=c(l,h),y=0,x=u(p.bitLength());"millerRabinTests"in g&&(x=g.millerRabinTests);var w=10;"maxBlockTime"in g&&(w=g.maxBlockTime),s(p,l,h,y,x,w,d)}function s(l,h,g,d,p,y,x){var w=+new Date;do{if(l.bitLength()>h&&(l=c(h,g)),l.isProbablePrime(p))return x(null,l);l.dAddOffset(r[d++%8],0)}while(y<0||+new Date-w<y);tr.util.setImmediate(function(){s(l,h,g,d,p,y,x)})}function f(l,h,g,d){if(typeof Worker>"u")return a(l,h,g,d);var p=c(l,h),y=g.workers,x=g.workLoad||100,w=x*30/8,b=g.workerScript||"forge/prime.worker.js";if(y===-1)return tr.util.estimateCores(function(E,S){E&&(S=2),y=S-1,k()});k();function k(){y=Math.max(1,y);for(var E=[],S=0;S<y;++S)E[S]=new Worker(b);for(var L=y,S=0;S<y;++S)E[S].addEventListener("message",K);var B=!1;function K(F){if(!B){--L;var P=F.data;if(P.found){for(var V=0;V<E.length;++V)E[V].terminate();return B=!0,d(null,new e(P.prime,16))}p.bitLength()>l&&(p=c(l,h));var W=p.toString(16);F.target.postMessage({hex:W,workLoad:x}),p.dAddOffset(w,0)}}}}function c(l,h){var g=new e(l,h),d=l-1;return g.testBit(d)||g.bitwiseTo(e.ONE.shiftLeft(d),i,g),g.dAddOffset(31-g.mod(n).byteValue(),0),g}function u(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var li=Q((R2,v0)=>{var Y=pt();En();fi();Zn();l0();h0();Sn();Rt();typeof ot>"u"&&(ot=Y.jsbn.BigInteger);var ot,Eo=Y.util.isNodejs?ri():null,v=Y.asn1,ae=Y.util;Y.pki=Y.pki||{};v0.exports=Y.pki.rsa=Y.rsa=Y.rsa||{};var X=Y.pki,Yd=[6,4,2,4,2,4,6,2],Wd={name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Zd={name:"RSAPrivateKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Qd={name:"RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Xd=Y.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Jd={name:"DigestInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},jd=function(t){var e;if(t.algorithm in X.oids)e=X.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=v.oidToDer(e).getBytes(),i=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]),o=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]);o.value.push(v.create(v.Class.UNIVERSAL,v.Type.OID,!1,n)),o.value.push(v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,""));var a=v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(a),v.toDer(i).getBytes()},x0=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(ot.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(ot.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new ot(Y.util.bytesToHex(Y.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(ot.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var a=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a};X.rsa.encrypt=function(t,e,r){var n=r,i,o=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=m0(t,e,r)):(i=Y.util.createBuffer(),i.putBytes(t));for(var a=new ot(i.toHex(),16),s=x0(a,e,n),f=s.toString(16),c=Y.util.createBuffer(),u=o-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(Y.util.hexToBytes(f)),c.getBytes()};X.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var a=new ot(Y.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=x0(a,e,r),f=s.toString(16),c=Y.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(Y.util.hexToBytes(f)),n!==!1?ui(c.getBytes(),e,r):c.getBytes()};X.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||Y.random,i={nextBytes:function(s){for(var f=n.getBytesSync(s.length),c=0;c<s.length;++c)s[c]=f.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:t,rng:i,eInt:e||65537,e:new ot(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};X.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new ot(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},o=+new Date,a,s=0;t.keys===null&&(e<=0||s<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,c=f-1;t.pqState===0?(t.num=new ot(f,t.rng),t.num.testBit(c)||t.num.bitwiseTo(ot.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(ep(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(Yd[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(ot.ONE).gcd(t.e).compareTo(ot.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(ot.ONE),t.q1=t.q.subtract(ot.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(ot.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:X.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:X.rsa.setPublicKey(t.n,t.e)}}a=+new Date,s+=a-o,o=a}return t.keys!==null};X.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!Y.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(d0("generateKeyPair"))return Eo.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(s,f,c){if(s)return n(s);n(null,{privateKey:X.privateKeyFromPem(c),publicKey:X.publicKeyFromPem(f)})});if(p0("generateKey")&&p0("exportKey"))return ae.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:g0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(s){return ae.globalScope.crypto.subtle.exportKey("pkcs8",s.privateKey)}).then(void 0,function(s){n(s)}).then(function(s){if(s){var f=X.privateKeyFromAsn1(v.fromDer(Y.util.createBuffer(s)));n(null,{privateKey:f,publicKey:X.setRsaPublicKey(f.n,f.e)})}});if(y0("generateKey")&&y0("exportKey")){var i=ae.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:g0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(s){var f=s.target.result,c=ae.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var l=u.target.result,h=X.privateKeyFromAsn1(v.fromDer(Y.util.createBuffer(l)));n(null,{privateKey:h,publicKey:X.setRsaPublicKey(h.n,h.e)})},c.onerror=function(u){n(u)}},i.onerror=function(s){n(s)};return}}else if(d0("generateKeyPairSync")){var o=Eo.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:X.privateKeyFromPem(o.privateKey),publicKey:X.publicKeyFromPem(o.publicKey)}}}var a=X.rsa.createKeyPairGenerationState(t,e,r);if(!n)return X.rsa.stepKeyPairGenerationState(a,0),a.keys;tp(a,r,n)};X.setRsaPublicKey=X.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(s,f,c){return m0(s,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(s,f){return Y.pkcs1.encode_rsa_oaep(f,s,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(s){return s}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return X.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(f,c){c=ui(c,r,!0);var u=v.fromDer(c,{parseAllBytes:a._parseAllDigestBytes}),l={},h=[];if(!v.validate(u,Jd,l,h)){var g=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw g.errors=h,g}var d=v.derToOid(l.algorithmIdentifier);if(!(d===Y.oids.md2||d===Y.oids.md5||d===Y.oids.sha1||d===Y.oids.sha224||d===Y.oids.sha256||d===Y.oids.sha384||d===Y.oids.sha512||d===Y.oids["sha512-224"]||d===Y.oids["sha512-256"])){var g=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw g.oid=d,g}if((d===Y.oids.md2||d===Y.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===l.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(f,c){return c=ui(c,r,!0),f===c}});var s=X.rsa.decrypt(i,r,!0,!1);return o.verify(n,s,r.n.bitLength())},r};X.setRsaPrivateKey=X.rsa.setPrivateKey=function(t,e,r,n,i,o,a,s){var f={n:t,e,d:r,p:n,q:i,dP:o,dQ:a,qInv:s};return f.decrypt=function(c,u,l){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var h=X.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:ui};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(g,d){return Y.pkcs1.decode_rsa_oaep(d,g,l)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(g){return g}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(h,f,!1)},f.sign=function(c,u){var l=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:jd},l=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},l=1);var h=u.encode(c,f.n.bitLength());return X.rsa.encrypt(h,f,l)},f};X.wrapRsaPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(X.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,v.toDer(t).getBytes())])};X.privateKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,Wd,e,r)&&(t=v.fromDer(Y.util.createBuffer(e.privateKey))),e={},r=[],!v.validate(t,Zd,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,s,f,c,u,l;return i=Y.util.createBuffer(e.privateKeyModulus).toHex(),o=Y.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=Y.util.createBuffer(e.privateKeyPrivateExponent).toHex(),s=Y.util.createBuffer(e.privateKeyPrime1).toHex(),f=Y.util.createBuffer(e.privateKeyPrime2).toHex(),c=Y.util.createBuffer(e.privateKeyExponent1).toHex(),u=Y.util.createBuffer(e.privateKeyExponent2).toHex(),l=Y.util.createBuffer(e.privateKeyCoefficient).toHex(),X.setRsaPrivateKey(new ot(i,16),new ot(o,16),new ot(a,16),new ot(s,16),new ot(f,16),new ot(c,16),new ot(u,16),new ot(l,16))};X.privateKeyToAsn1=X.privateKeyToRSAPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.e)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.d)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.p)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.q)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.dP)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.dQ)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.qInv))])};X.publicKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,Xd,e,r)){var n=v.derToOid(e.publicKeyOid);if(n!==X.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!v.validate(t,Qd,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=Y.util.createBuffer(e.publicKeyModulus).toHex(),a=Y.util.createBuffer(e.publicKeyExponent).toHex();return X.setRsaPublicKey(new ot(o,16),new ot(a,16))};X.publicKeyToAsn1=X.publicKeyToSubjectPublicKeyInfo=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(X.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.BITSTRING,!1,[X.publicKeyToRSAPublicKey(t)])])};X.publicKeyToRSAPublicKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ae(t.e))])};function m0(t,e,r){var n=Y.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-t.length,s;if(r===0||r===1){s=r===0?0:255;for(var f=0;f<a;++f)n.putByte(s)}else for(;a>0;){for(var c=0,u=Y.random.getBytes(a),f=0;f<a;++f)s=u.charCodeAt(f),s===0?++c:n.putByte(s);a=c}return n.putByte(0),n.putBytes(t),n}function ui(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=Y.util.createBuffer(t),a=o.getByte(),s=o.getByte();if(a!==0||r&&s!==0&&s!==1||!r&&s!=2||r&&s===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(s===0){f=i-3-n;for(var c=0;c<f;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(s===1)for(f=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++f}else if(s===2)for(f=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++f}var u=o.getByte();if(u!==0||f!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function tp(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){o(t.pBits,function(s,f){if(s)return r(s);if(t.p=f,t.q!==null)return a(s,t.q);o(t.qBits,a)})}function o(s,f){Y.prime.generateProbablePrime(s,n,f)}function a(s,f){if(s)return r(s);if(t.q=f,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(ot.ONE).gcd(t.e).compareTo(ot.ONE)!==0){t.p=null,i();return}if(t.q.subtract(ot.ONE).gcd(t.e).compareTo(ot.ONE)!==0){t.q=null,o(t.qBits,a);return}if(t.p1=t.p.subtract(ot.ONE),t.q1=t.q.subtract(ot.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(ot.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,o(t.qBits,a);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:X.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:X.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Ae(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=Y.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function ep(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function d0(t){return Y.util.isNodejs&&typeof Eo[t]=="function"}function p0(t){return typeof ae.globalScope<"u"&&typeof ae.globalScope.crypto=="object"&&typeof ae.globalScope.crypto.subtle=="object"&&typeof ae.globalScope.crypto.subtle[t]=="function"}function y0(t){return typeof ae.globalScope<"u"&&typeof ae.globalScope.msCrypto=="object"&&typeof ae.globalScope.msCrypto.subtle=="object"&&typeof ae.globalScope.msCrypto.subtle[t]=="function"}function g0(t){for(var e=Y.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var C0=Q((N2,B0)=>{var q=pt();ho();En();Is();yr();Zn();Ls();Ks();Sn();Zs();li();Rt();typeof b0>"u"&&(b0=q.jsbn.BigInteger);var b0,A=q.asn1,J=q.pki=q.pki||{};B0.exports=J.pbe=q.pbe=q.pbe||{};var mr=J.oids,rp={name:"EncryptedPrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},np={name:"PBES2Algorithms",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},ip={name:"pkcs-12PbeParams",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"iterations"}]};J.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=q.random.getBytesSync(r.saltSize),i=r.count,o=A.integerToDer(i),a,s,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,l;switch(r.algorithm){case"aes128":a=16,c=16,u=mr["aes128-CBC"],l=q.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,u=mr["aes192-CBC"],l=q.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,u=mr["aes256-CBC"],l=q.aes.createEncryptionCipher;break;case"des":a=8,c=8,u=mr.desCBC,l=q.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),d=S0(g),p=q.pkcs5.pbkdf2(e,n,i,a,d),y=q.random.getBytesSync(c),x=l(p);x.start(y),x.update(A.toDer(t)),x.finish(),f=x.output.getBytes();var w=op(n,o,a,g);s=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(mr.pkcs5PBES2).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(mr.pkcs5PBKDF2).getBytes()),w]),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(u).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,y)])])])}else if(r.algorithm==="3des"){a=24;var b=new q.util.ByteBuffer(n),p=J.pbe.generatePkcs12Key(e,b,1,i,a),y=J.pbe.generatePkcs12Key(e,b,2,i,a),x=q.des.createEncryptionCipher(p);x.start(y),x.update(A.toDer(t)),x.finish(),f=x.output.getBytes(),s=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(mr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,n),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var k=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[s,A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,f)]);return k};J.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!A.validate(t,rp,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=A.derToOid(n.encryptionOid),s=J.pbe.getCipher(a,n.encryptionParams,e),f=q.util.createBuffer(n.encryptedData);return s.update(f),s.finish()&&(r=A.fromDer(s.output)),r};J.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:A.toDer(t).getBytes()};return q.pem.encode(r,{maxline:e})};J.encryptedPrivateKeyFromPem=function(t){var e=q.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return A.fromDer(e.body)};J.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=J.wrapRsaPrivateKey(J.privateKeyToAsn1(t));return n=J.encryptPrivateKeyInfo(n,e,r),J.encryptedPrivateKeyToPem(n)}var i,o,a,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=q.random.getBytesSync(16),s=q.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=q.random.getBytesSync(16),s=q.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=q.random.getBytesSync(16),s=q.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=q.random.getBytesSync(8),s=q.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=q.random.getBytesSync(8),s=q.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=q.pbe.opensslDeriveBytes(e,o.substr(0,8),a),u=s(c);u.start(o),u.update(A.toDer(J.privateKeyToAsn1(t))),u.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:q.util.bytesToHex(o).toUpperCase()},body:u.output.getBytes()};return q.pem.encode(l)};J.decryptRsaPrivateKey=function(t,e){var r=null,n=q.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=q.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=q.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=q.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=q.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=q.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=function(l){return q.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":o=8,a=function(l){return q.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":o=16,a=function(l){return q.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var s=q.util.hexToBytes(n.dekInfo.parameters),f=q.pbe.opensslDeriveBytes(e,s.substr(0,8),o),c=a(f);if(c.start(s),c.update(q.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=J.decryptPrivateKeyInfo(A.fromDer(r),e):r=A.fromDer(r),r!==null&&(r=J.privateKeyFromAsn1(r)),r};J.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var a,s;if(typeof o>"u"||o===null){if(!("sha1"in q.md))throw new Error('"sha1" hash algorithm unavailable.');o=q.md.sha1.create()}var f=o.digestLength,c=o.blockLength,u=new q.util.ByteBuffer,l=new q.util.ByteBuffer;if(t!=null){for(s=0;s<t.length;s++)l.putInt16(t.charCodeAt(s));l.putInt16(0)}var h=l.length(),g=e.length(),d=new q.util.ByteBuffer;d.fillWithByte(r,c);var p=c*Math.ceil(g/c),y=new q.util.ByteBuffer;for(s=0;s<p;s++)y.putByte(e.at(s%g));var x=c*Math.ceil(h/c),w=new q.util.ByteBuffer;for(s=0;s<x;s++)w.putByte(l.at(s%h));var b=y;b.putBuffer(w);for(var k=Math.ceil(i/f),E=1;E<=k;E++){var S=new q.util.ByteBuffer;S.putBytes(d.bytes()),S.putBytes(b.bytes());for(var L=0;L<n;L++)o.start(),o.update(S.getBytes()),S=o.digest();var B=new q.util.ByteBuffer;for(s=0;s<c;s++)B.putByte(S.at(s%f));var K=Math.ceil(g/c)+Math.ceil(h/c),F=new q.util.ByteBuffer;for(a=0;a<K;a++){var P=new q.util.ByteBuffer(b.getBytes(c)),V=511;for(s=B.length()-1;s>=0;s--)V=V>>8,V+=B.at(s)+P.at(s),P.setAt(s,V&255);F.putBuffer(P)}b=F,u.putBuffer(S)}return u.truncate(u.length()-i),u};J.pbe.getCipher=function(t,e,r){switch(t){case J.oids.pkcs5PBES2:return J.pbe.getCipherForPBES2(t,e,r);case J.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case J.oids["pbewithSHAAnd40BitRC2-CBC"]:return J.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};J.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!A.validate(e,np,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(t=A.derToOid(n.kdfOid),t!==J.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=t,o.supportedOids=["pkcs5PBKDF2"],o}if(t=A.derToOid(n.encOid),t!==J.oids["aes128-CBC"]&&t!==J.oids["aes192-CBC"]&&t!==J.oids["aes256-CBC"]&&t!==J.oids["des-EDE3-CBC"]&&t!==J.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,s=q.util.createBuffer(n.kdfIterationCount);s=s.getInt(s.length()<<3);var f,c;switch(J.oids[t]){case"aes128-CBC":f=16,c=q.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=q.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=q.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=q.des.createDecryptionCipher;break;case"desCBC":f=8,c=q.des.createDecryptionCipher;break}var u=E0(n.prfOid),l=q.pkcs5.pbkdf2(r,a,s,f,u),h=n.encIv,g=c(l);return g.start(h),g};J.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!A.validate(e,ip,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=q.util.createBuffer(n.salt),s=q.util.createBuffer(n.iterations);s=s.getInt(s.length()<<3);var f,c,u;switch(t){case J.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=q.des.startDecrypting;break;case J.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=function(p,y){var x=q.rc2.createDecryptionCipher(p,40);return x.start(y,null),x};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=t,o}var l=E0(n.prfOid),h=J.pbe.generatePkcs12Key(r,a,1,s,f,l);l.start();var g=J.pbe.generatePkcs12Key(r,a,2,s,c,l);return u(h,g)};J.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in q.md))throw new Error('"md5" hash algorithm unavailable.');n=q.md.md5.create()}e===null&&(e="");for(var i=[w0(n,t+e)],o=16,a=1;o<r;++a,o+=16)i.push(w0(n,i[a-1]+t+e));return i.join("").substr(0,r)};function w0(t,e){return t.start().update(e).digest().getBytes()}function E0(t){var e;if(!t)e="hmacWithSHA1";else if(e=J.oids[A.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return S0(e)}function S0(t){var e=q.md;switch(t){case"hmacWithSHA224":e=q.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function op(t,e,r,n){var i=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,q.util.hexToBytes(r.toString(16))),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(J.oids[n]).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")])),i}});var mf=Q((vm,xf)=>{"use strict";xf.exports=p1;function p1(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(s,f){r[n]=function(u){if(o)if(o=!1,u)f(u);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];s.apply(null,l)}};try{t.apply(e||null,r)}catch(c){o&&(o=!1,f(c))}})}});var Ef=Q(wf=>{"use strict";var Ii=wf;Ii.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var jr=new Array(64),bf=new Array(123);for(ge=0;ge<64;)bf[jr[ge]=ge<26?ge+65:ge<52?ge+71:ge<62?ge-4:ge-59|43]=ge++;var ge;Ii.encode=function(e,r,n){for(var i=null,o=[],a=0,s=0,f;r<n;){var c=e[r++];switch(s){case 0:o[a++]=jr[c>>2],f=(c&3)<<4,s=1;break;case 1:o[a++]=jr[f|c>>4],f=(c&15)<<2,s=2;break;case 2:o[a++]=jr[f|c>>6],o[a++]=jr[c&63],s=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return s&&(o[a++]=jr[f],o[a++]=61,s===1&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var vf="invalid encoding";Ii.decode=function(e,r,n){for(var i=n,o=0,a,s=0;s<e.length;){var f=e.charCodeAt(s++);if(f===61&&o>1)break;if((f=bf[f])===void 0)throw Error(vf);switch(o){case 0:a=f,o=1;break;case 1:r[n++]=a<<2|(f&48)>>4,a=f,o=2;break;case 2:r[n++]=(a&15)<<4|(f&60)>>2,a=f,o=3;break;case 3:r[n++]=(a&3)<<6|f,o=0;break}}if(o===1)throw Error(vf);return n-i};Ii.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Bf=Q((wm,Sf)=>{"use strict";Sf.exports=Ri;function Ri(){this._listeners={}}Ri.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Ri.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Ri.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Nf=Q((Em,Rf)=>{"use strict";Rf.exports=Cf(Cf);function Cf(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3]}function o(f,c,u){e[0]=f,c[u]=r[3],c[u+1]=r[2],c[u+2]=r[1],c[u+3]=r[0]}t.writeFloatLE=n?i:o,t.writeFloatBE=n?o:i;function a(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],e[0]}function s(f,c){return r[3]=f[c],r[2]=f[c+1],r[1]=f[c+2],r[0]=f[c+3],e[0]}t.readFloatLE=n?a:s,t.readFloatBE=n?s:a}():function(){function e(n,i,o,a){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,o,a);else if(isNaN(i))n(2143289344,o,a);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,o,a);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,o,a);else{var f=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-f)*8388608)&8388607;n((s<<31|f+127<<23|c)>>>0,o,a)}}t.writeFloatLE=e.bind(null,Af),t.writeFloatBE=e.bind(null,Tf);function r(n,i,o){var a=n(i,o),s=(a>>31)*2+1,f=a>>>23&255,c=a&8388607;return f===255?c?NaN:s*(1/0):f===0?s*1401298464324817e-60*c:s*Math.pow(2,f-150)*(c+8388608)}t.readFloatLE=r.bind(null,_f),t.readFloatBE=r.bind(null,If)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3],c[u+4]=r[4],c[u+5]=r[5],c[u+6]=r[6],c[u+7]=r[7]}function o(f,c,u){e[0]=f,c[u]=r[7],c[u+1]=r[6],c[u+2]=r[5],c[u+3]=r[4],c[u+4]=r[3],c[u+5]=r[2],c[u+6]=r[1],c[u+7]=r[0]}t.writeDoubleLE=n?i:o,t.writeDoubleBE=n?o:i;function a(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],r[4]=f[c+4],r[5]=f[c+5],r[6]=f[c+6],r[7]=f[c+7],e[0]}function s(f,c){return r[7]=f[c],r[6]=f[c+1],r[5]=f[c+2],r[4]=f[c+3],r[3]=f[c+4],r[2]=f[c+5],r[1]=f[c+6],r[0]=f[c+7],e[0]}t.readDoubleLE=n?a:s,t.readDoubleBE=n?s:a}():function(){function e(n,i,o,a,s,f){var c=a<0?1:0;if(c&&(a=-a),a===0)n(0,s,f+i),n(1/a>0?0:2147483648,s,f+o);else if(isNaN(a))n(0,s,f+i),n(2146959360,s,f+o);else if(a>17976931348623157e292)n(0,s,f+i),n((c<<31|2146435072)>>>0,s,f+o);else{var u;if(a<22250738585072014e-324)u=a/5e-324,n(u>>>0,s,f+i),n((c<<31|u/4294967296)>>>0,s,f+o);else{var l=Math.floor(Math.log(a)/Math.LN2);l===1024&&(l=1023),u=a*Math.pow(2,-l),n(u*4503599627370496>>>0,s,f+i),n((c<<31|l+1023<<20|u*1048576&1048575)>>>0,s,f+o)}}}t.writeDoubleLE=e.bind(null,Af,0,4),t.writeDoubleBE=e.bind(null,Tf,4,0);function r(n,i,o,a,s){var f=n(a,s+i),c=n(a,s+o),u=(c>>31)*2+1,l=c>>>20&2047,h=4294967296*(c&1048575)+f;return l===2047?h?NaN:u*(1/0):l===0?u*5e-324*h:u*Math.pow(2,l-1075)*(h+4503599627370496)}t.readDoubleLE=r.bind(null,_f,0,4),t.readDoubleBE=r.bind(null,If,4,0)}(),t}function Af(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Tf(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function _f(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function If(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Df=Q((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Lf=Q(kf=>{"use strict";var ca=kf;ca.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};ca.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var o=null,a=[],s=0,f;r<n;)f=e[r++],f<128?a[s++]=f:f>191&&f<224?a[s++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[s++]=55296+(f>>10),a[s++]=56320+(f&1023)):a[s++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};ca.write=function(e,r,n){for(var i=n,o,a,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):(o&64512)===55296&&((a=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++s,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128);return n-i}});var Pf=Q((Bm,Uf)=>{"use strict";Uf.exports=y1;function y1(t,e,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(f){if(f<1||f>i)return t(f);a+f>n&&(o=t(n),a=0);var c=e.call(o,a,a+=f);return a&7&&(a=(a|7)+1),c}}});var Of=Q((Cm,Kf)=>{"use strict";Kf.exports=Kt;var Nn=Ar();function Kt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Cr=Kt.zero=new Kt(0,0);Cr.toNumber=function(){return 0};Cr.zzEncode=Cr.zzDecode=function(){return this};Cr.length=function(){return 1};var g1=Kt.zeroHash="\0\0\0\0\0\0\0\0";Kt.fromNumber=function(e){if(e===0)return Cr;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Kt(n,i)};Kt.from=function(e){if(typeof e=="number")return Kt.fromNumber(e);if(Nn.isString(e))if(Nn.Long)e=Nn.Long.fromString(e);else return Kt.fromNumber(parseInt(e,10));return e.low||e.high?new Kt(e.low>>>0,e.high>>>0):Cr};Kt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Kt.prototype.toLong=function(e){return Nn.Long?new Nn.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var sr=String.prototype.charCodeAt;Kt.fromHash=function(e){return e===g1?Cr:new Kt((sr.call(e,0)|sr.call(e,1)<<8|sr.call(e,2)<<16|sr.call(e,3)<<24)>>>0,(sr.call(e,4)|sr.call(e,5)<<8|sr.call(e,6)<<16|sr.call(e,7)<<24)>>>0)};Kt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Kt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Kt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Kt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Ar=Q(ua=>{"use strict";var $=ua;$.asPromise=mf();$.base64=Ef();$.EventEmitter=Bf();$.float=Nf();$.inquire=Df();$.utf8=Lf();$.pool=Pf();$.LongBits=Of();$.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);$.global=$.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||ua;$.emptyArray=Object.freeze?Object.freeze([]):[];$.emptyObject=Object.freeze?Object.freeze({}):{};$.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};$.isString=function(e){return typeof e=="string"||e instanceof String};$.isObject=function(e){return e&&typeof e=="object"};$.isset=$.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};$.Buffer=function(){try{var t=$.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();$._Buffer_from=null;$._Buffer_allocUnsafe=null;$.newBuffer=function(e){return typeof e=="number"?$.Buffer?$._Buffer_allocUnsafe(e):new $.Array(e):$.Buffer?$._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};$.Array=typeof Uint8Array<"u"?Uint8Array:Array;$.Long=$.global.dcodeIO&&$.global.dcodeIO.Long||$.global.Long||$.inquire("long");$.key2Re=/^true|false|0|1$/;$.key32Re=/^-?(?:0|[1-9][0-9]*)$/;$.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;$.longToHash=function(e){return e?$.LongBits.from(e).toHash():$.LongBits.zeroHash};$.longFromHash=function(e,r){var n=$.LongBits.fromHash(e);return $.Long?$.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function Ff(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}$.merge=Ff;$.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Mf(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Ff(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}$.newError=Mf;$.ProtocolError=Mf("ProtocolError");$.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(r[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};$.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};$.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};$._configure=function(){var t=$.Buffer;if(!t){$._Buffer_from=$._Buffer_allocUnsafe=null;return}$._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},$._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var da=Q((Tm,Gf)=>{"use strict";Gf.exports=_t;var xe=Ar(),ha,Hf=xe.LongBits,x1=xe.utf8;function me(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function _t(t){this.buf=t,this.pos=0,this.len=t.length}var Vf=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new _t(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new _t(e);throw Error("illegal buffer")},zf=function(){return xe.Buffer?function(r){return(_t.create=function(i){return xe.Buffer.isBuffer(i)?new ha(i):Vf(i)})(r)}:Vf};_t.create=zf();_t.prototype._slice=xe.Array.prototype.subarray||xe.Array.prototype.slice;_t.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,me(this,10);return e}}();_t.prototype.int32=function(){return this.uint32()|0};_t.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function la(){var t=new Hf(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw me(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw me(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}_t.prototype.bool=function(){return this.uint32()!==0};function Ni(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}_t.prototype.fixed32=function(){if(this.pos+4>this.len)throw me(this,4);return Ni(this.buf,this.pos+=4)};_t.prototype.sfixed32=function(){if(this.pos+4>this.len)throw me(this,4);return Ni(this.buf,this.pos+=4)|0};function qf(){if(this.pos+8>this.len)throw me(this,8);return new Hf(Ni(this.buf,this.pos+=4),Ni(this.buf,this.pos+=4))}_t.prototype.float=function(){if(this.pos+4>this.len)throw me(this,4);var e=xe.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};_t.prototype.double=function(){if(this.pos+8>this.len)throw me(this,4);var e=xe.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};_t.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw me(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var i=xe.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};_t.prototype.string=function(){var e=this.bytes();return x1.read(e,0,e.length)};_t.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw me(this,e);this.pos+=e}else do if(this.pos>=this.len)throw me(this);while(this.buf[this.pos++]&128);return this};_t.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};_t._configure=function(t){ha=t,_t.create=zf(),ha._configure();var e=xe.Long?"toLong":"toNumber";xe.merge(_t.prototype,{int64:function(){return la.call(this)[e](!1)},uint64:function(){return la.call(this)[e](!0)},sint64:function(){return la.call(this).zzDecode()[e](!1)},fixed64:function(){return qf.call(this)[e](!0)},sfixed64:function(){return qf.call(this)[e](!1)}})}});var Zf=Q((_m,Wf)=>{"use strict";Wf.exports=Tr;var Yf=da();(Tr.prototype=Object.create(Yf.prototype)).constructor=Tr;var $f=Ar();function Tr(t){Yf.call(this,t)}Tr._configure=function(){$f.Buffer&&(Tr.prototype._slice=$f.Buffer.prototype.slice)};Tr.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Tr._configure()});var ba=Q((Im,jf)=>{"use strict";jf.exports=ft;var se=Ar(),pa,Di=se.LongBits,Qf=se.base64,Xf=se.utf8;function Dn(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function ga(){}function m1(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function ft(){this.len=0,this.head=new Dn(ga,0,0),this.tail=this.head,this.states=null}var Jf=function(){return se.Buffer?function(){return(ft.create=function(){return new pa})()}:function(){return new ft}};ft.create=Jf();ft.alloc=function(e){return new se.Array(e)};se.Array!==Array&&(ft.alloc=se.pool(ft.alloc,se.Array.prototype.subarray));ft.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Dn(e,r,n),this.len+=r,this};function xa(t,e,r){e[r]=t&255}function v1(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function ma(t,e){this.len=t,this.next=void 0,this.val=e}ma.prototype=Object.create(Dn.prototype);ma.prototype.fn=v1;ft.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new ma((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};ft.prototype.int32=function(e){return e<0?this._push(va,10,Di.fromNumber(e)):this.uint32(e)};ft.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function va(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}ft.prototype.uint64=function(e){var r=Di.from(e);return this._push(va,r.length(),r)};ft.prototype.int64=ft.prototype.uint64;ft.prototype.sint64=function(e){var r=Di.from(e).zzEncode();return this._push(va,r.length(),r)};ft.prototype.bool=function(e){return this._push(xa,1,e?1:0)};function ya(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}ft.prototype.fixed32=function(e){return this._push(ya,4,e>>>0)};ft.prototype.sfixed32=ft.prototype.fixed32;ft.prototype.fixed64=function(e){var r=Di.from(e);return this._push(ya,4,r.lo)._push(ya,4,r.hi)};ft.prototype.sfixed64=ft.prototype.fixed64;ft.prototype.float=function(e){return this._push(se.float.writeFloatLE,4,e)};ft.prototype.double=function(e){return this._push(se.float.writeDoubleLE,8,e)};var b1=se.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};ft.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(xa,1,0);if(se.isString(e)){var n=ft.alloc(r=Qf.length(e));Qf.decode(e,n,0),e=n}return this.uint32(r)._push(b1,r,e)};ft.prototype.string=function(e){var r=Xf.length(e);return r?this.uint32(r)._push(Xf.write,r,e):this._push(xa,1,0)};ft.prototype.fork=function(){return this.states=new m1(this),this.head=this.tail=new Dn(ga,0,0),this.len=0,this};ft.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Dn(ga,0,0),this.len=0),this};ft.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};ft.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};ft._configure=function(t){pa=t,ft.create=Jf(),pa._configure()}});var rc=Q((Rm,ec)=>{"use strict";ec.exports=Re;var tc=ba();(Re.prototype=Object.create(tc.prototype)).constructor=Re;var fr=Ar();function Re(){tc.call(this)}Re._configure=function(){Re.alloc=fr._Buffer_allocUnsafe,Re.writeBytesBuffer=fr.Buffer&&fr.Buffer.prototype instanceof Uint8Array&&fr.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Re.prototype.bytes=function(e){fr.isString(e)&&(e=fr._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Re.writeBytesBuffer,r,e),this};function w1(t,e,r){t.length<40?fr.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Re.prototype.string=function(e){var r=fr.Buffer.byteLength(e);return this.uint32(r),r&&this._push(w1,r,e),this};Re._configure()});var pc=Q((Rv,dc)=>{var mt=pt();yr();Rt();var Un=dc.exports=mt.sha512=mt.sha512||{};mt.md.sha512=mt.md.algorithms.sha512=Un;var lc=mt.sha384=mt.sha512.sha384=mt.sha512.sha384||{};lc.create=function(){return Un.create("SHA-384")};mt.md.sha384=mt.md.algorithms.sha384=lc;mt.sha512.sha256=mt.sha512.sha256||{create:function(){return Un.create("SHA-512/256")}};mt.md["sha512/256"]=mt.md.algorithms["sha512/256"]=mt.sha512.sha256;mt.sha512.sha224=mt.sha512.sha224||{create:function(){return Un.create("SHA-512/224")}};mt.md["sha512/224"]=mt.md.algorithms["sha512/224"]=mt.sha512.sha224;Un.create=function(t){if(hc||N1(),typeof t>"u"&&(t="SHA-512"),!(t in Ir))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Ir[t],r=null,n=mt.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var s={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength128=[];for(var f=s.messageLengthSize/4,c=0;c<f;++c)s.fullMessageLength.push(0);n=mt.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return s},s.start(),s.update=function(f,c){c==="utf8"&&(f=mt.util.encodeUtf8(f));var u=f.length;s.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var l=s.fullMessageLength.length-1;l>=0;--l)s.fullMessageLength[l]+=u[1],u[1]=u[0]+(s.fullMessageLength[l]/4294967296>>>0),s.fullMessageLength[l]=s.fullMessageLength[l]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),uc(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),s},s.digest=function(){var f=mt.util.createBuffer();f.putBytes(n.bytes());var c=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,u=c&s.blockLength-1;f.putBytes(Ta.substr(0,s.blockLength-u));for(var l,h,g=s.fullMessageLength[0]*8,d=0;d<s.fullMessageLength.length-1;++d)l=s.fullMessageLength[d+1]*8,h=l/4294967296>>>0,g+=h,f.putInt32(g>>>0),g=l>>>0;f.putInt32(g);for(var p=new Array(r.length),d=0;d<r.length;++d)p[d]=r[d].slice(0);uc(p,i,f);var y=mt.util.createBuffer(),x;t==="SHA-512"?x=p.length:t==="SHA-384"?x=p.length-2:x=p.length-4;for(var d=0;d<x;++d)y.putInt32(p[d][0]),(d!==x-1||t!=="SHA-512/224")&&y.putInt32(p[d][1]);return y},s};var Ta=null,hc=!1,_a=null,Ir=null;function N1(){Ta=String.fromCharCode(128),Ta+=mt.util.fillString(String.fromCharCode(0),128),_a=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Ir={},Ir["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Ir["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Ir["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Ir["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],hc=!0}function uc(t,e,r){for(var n,i,o,a,s,f,c,u,l,h,g,d,p,y,x,w,b,k,E,S,L,B,K,F,P,V,W,tt,C,R,N,U,_,H,G,Z=r.length();Z>=128;){for(C=0;C<16;++C)e[C][0]=r.getInt32()>>>0,e[C][1]=r.getInt32()>>>0;for(;C<80;++C)U=e[C-2],R=U[0],N=U[1],n=((R>>>19|N<<13)^(N>>>29|R<<3)^R>>>6)>>>0,i=((R<<13|N>>>19)^(N<<3|R>>>29)^(R<<26|N>>>6))>>>0,H=e[C-15],R=H[0],N=H[1],o=((R>>>1|N<<31)^(R>>>8|N<<24)^R>>>7)>>>0,a=((R<<31|N>>>1)^(R<<24|N>>>8)^(R<<25|N>>>7))>>>0,_=e[C-7],G=e[C-16],N=i+_[1]+a+G[1],e[C][0]=n+_[0]+o+G[0]+(N/4294967296>>>0)>>>0,e[C][1]=N>>>0;for(p=t[0][0],y=t[0][1],x=t[1][0],w=t[1][1],b=t[2][0],k=t[2][1],E=t[3][0],S=t[3][1],L=t[4][0],B=t[4][1],K=t[5][0],F=t[5][1],P=t[6][0],V=t[6][1],W=t[7][0],tt=t[7][1],C=0;C<80;++C)c=((L>>>14|B<<18)^(L>>>18|B<<14)^(B>>>9|L<<23))>>>0,u=((L<<18|B>>>14)^(L<<14|B>>>18)^(B<<23|L>>>9))>>>0,l=(P^L&(K^P))>>>0,h=(V^B&(F^V))>>>0,s=((p>>>28|y<<4)^(y>>>2|p<<30)^(y>>>7|p<<25))>>>0,f=((p<<4|y>>>28)^(y<<30|p>>>2)^(y<<25|p>>>7))>>>0,g=(p&x|b&(p^x))>>>0,d=(y&w|k&(y^w))>>>0,N=tt+u+h+_a[C][1]+e[C][1],n=W+c+l+_a[C][0]+e[C][0]+(N/4294967296>>>0)>>>0,i=N>>>0,N=f+d,o=s+g+(N/4294967296>>>0)>>>0,a=N>>>0,W=P,tt=V,P=K,V=F,K=L,F=B,N=S+i,L=E+n+(N/4294967296>>>0)>>>0,B=N>>>0,E=b,S=k,b=x,k=w,x=p,w=y,N=i+a,p=n+o+(N/4294967296>>>0)>>>0,y=N>>>0;N=t[0][1]+y,t[0][0]=t[0][0]+p+(N/4294967296>>>0)>>>0,t[0][1]=N>>>0,N=t[1][1]+w,t[1][0]=t[1][0]+x+(N/4294967296>>>0)>>>0,t[1][1]=N>>>0,N=t[2][1]+k,t[2][0]=t[2][0]+b+(N/4294967296>>>0)>>>0,t[2][1]=N>>>0,N=t[3][1]+S,t[3][0]=t[3][0]+E+(N/4294967296>>>0)>>>0,t[3][1]=N>>>0,N=t[4][1]+B,t[4][0]=t[4][0]+L+(N/4294967296>>>0)>>>0,t[4][1]=N>>>0,N=t[5][1]+F,t[5][0]=t[5][0]+K+(N/4294967296>>>0)>>>0,t[5][1]=N>>>0,N=t[6][1]+V,t[6][0]=t[6][0]+P+(N/4294967296>>>0)>>>0,t[6][1]=N>>>0,N=t[7][1]+tt,t[7][0]=t[7][0]+W+(N/4294967296>>>0)>>>0,t[7][1]=N>>>0,Z-=128}}});var Vc=Q((qb,Mc)=>{var sn=1e3,fn=sn*60,cn=fn*60,kr=cn*24,ig=kr*7,og=kr*365.25;Mc.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return ag(t);if(r==="number"&&isFinite(t))return e.long?fg(t):sg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function ag(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*og;case"weeks":case"week":case"w":return r*ig;case"days":case"day":case"d":return r*kr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*cn;case"minutes":case"minute":case"mins":case"min":case"m":return r*fn;case"seconds":case"second":case"secs":case"sec":case"s":return r*sn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function sg(t){var e=Math.abs(t);return e>=kr?Math.round(t/kr)+"d":e>=cn?Math.round(t/cn)+"h":e>=fn?Math.round(t/fn)+"m":e>=sn?Math.round(t/sn)+"s":t+"ms"}function fg(t){var e=Math.abs(t);return e>=kr?Oi(t,e,kr,"day"):e>=cn?Oi(t,e,cn,"hour"):e>=fn?Oi(t,e,fn,"minute"):e>=sn?Oi(t,e,sn,"second"):t+" ms"}function Oi(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Hc=Q((Hb,qc)=>{function cg(t){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Vc(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let l=0;for(let h=0;h<u.length;h++)l=(l<<5)-l+u.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(u){let l,h=null,g,d;function p(...y){if(!p.enabled)return;let x=p,w=Number(new Date),b=w-(l||w);x.diff=b,x.prev=l,x.curr=w,l=w,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let k=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,L)=>{if(S==="%%")return"%";k++;let B=r.formatters[L];if(typeof B=="function"){let K=y[k];S=B.call(x,K),y.splice(k,1),k--}return S}),r.formatArgs.call(x,y),(x.log||r.log).apply(x,y)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(g!==r.namespaces&&(g=r.namespaces,d=r.enabled(u)),d),set:y=>{h=y}}),typeof r.init=="function"&&r.init(p),p}function n(u,l){let h=r(this.namespace+(typeof l>"u"?":":l)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let l,h=(typeof u=="string"?u:"").split(/[\s,]+/),g=h.length;for(l=0;l<g;l++)h[l]&&(u=h[l].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(s),...r.skips.map(s).map(l=>"-"+l)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(u))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(u))return!0;return!1}function s(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function f(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}qc.exports=cg});var zc=Q((jt,Fi)=>{jt.formatArgs=lg;jt.save=hg;jt.load=dg;jt.useColors=ug;jt.storage=pg();jt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();jt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ug(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function lg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Fi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}jt.log=console.debug||console.log||(()=>{});function hg(t){try{t?jt.storage.setItem("debug",t):jt.storage.removeItem("debug")}catch{}}function dg(){let t;try{t=jt.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function pg(){try{return localStorage}catch{}}Fi.exports=Hc()(jt);var{formatters:yg}=Fi.exports;yg.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Fa=Q((Wb,$c)=>{"use strict";function Gc(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function xg(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Gc(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),Gc(new i,r)}}$c.exports=xg});var Zc=Q((e8,Ma)=>{var t8=function(){typeof Ma<"u"&&(Ma.exports=p);var t=86400,e=3200,r=146097*e/400,n=t*r,i=1e3*n,o=864e13,a=4294967296,s=1e6,f="000000000",c=Math.trunc||function(B){var K=B-B%1;return K==0&&(B<0||B===0&&1/B!=1/0)?-0:K},u=p.prototype,l=(p.fromDate=function(B){return new p(+B)},p.fromInt64BE=k(0,1,2,3,0,4),p.fromInt64LE=k(3,2,1,0,4,0),p.fromString=function(P){var K,F=new p,P=(P+="").replace(/^\s*[+\-]?\d+/,function(W){var W=+W,tt=1970+(W-1970)%400;return F.year=W-tt,tt}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(V,W,tt){return W<0&&(tt*=-1),K=6e4*(60*+W+ +tt),""}).replace(/\.\d+$/,function(V){return F.nano=+(V+f).substr(1,9),""}).split(/\D+/);if(1<P.length?P[1]--:P[1]=0,F.time=K=Date.UTC.apply(Date,P)-(K||0),isNaN(K))throw new TypeError("Invalid Date");return y(F)},p.fromTimeT=function(B){return w(B,0)},u.year=0,u.time=0,u.nano=0,u.addNano=function(B){return this.nano+=+B||0,this},u.getNano=function(){var B=y(this);return(B.time%1e3*s+ +B.nano+1e9)%1e9},u.getTimeT=function(){var K=y(this),B=Math.floor(K.time/1e3),K=K.year;return K&&(B+=K*r*t/e),B},u.getYear=function(){return this.toDate().getUTCFullYear()+this.year},u.toDate=function(){return x(y(this).time)},u.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},u.toString=function(B){var K=this,F=K.toDate(),P={H:function(){return S(F.getUTCHours())},L:function(){return L(F.getUTCMilliseconds(),3)},M:function(){return S(F.getUTCMinutes())},N:function(){return L(K.getNano(),9)},S:function(){return S(F.getUTCSeconds())},Y:function(){var V=K.getYear();return 999999<V?"+"+V:9999<V?"+"+L(V,6):0<=V?L(V,4):-999999<=V?"-"+L(-V,6):V},a:function(){return g[F.getUTCDay()]},b:function(){return h[F.getUTCMonth()]},d:function(){return S(F.getUTCDate())},e:function(){return function(V){return(9<V?"":" ")+(0|V)}(F.getUTCDate())},m:function(){return S(F.getUTCMonth()+1)}};return function V(W){return W.replace(/%./g,function(tt){var R=tt[1],C=d[R],R=P[R];return C?V(C):R?R():tt})}(B||l)},u.writeInt64BE=b(0,1,2,3,0,4),u.writeInt64LE=b(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return p;function p(B,K,F){var P=this;if(!(P instanceof p))return new p(B,K,F);P.time=+B||0,P.nano=+K||0,P.year=+F||0,y(P)}function y(B){var K,F,P,V=B.year,W=B.time,tt=B.nano,C=((tt<0||s<=tt)&&(tt-=(F=Math.floor(tt/s))*s,W+=F,F=1),V%e);return(W<-o||o<W||C)&&((K=c(W/i))&&(V+=K*e,W-=K*i),(P=x(W)).setUTCFullYear(C+P.getUTCFullYear()),P=(W=+P)+(K=c((V-=C)/e))*i,K&&-o<=P&&P<=o&&(V-=K*e,W=P),F=1),F&&(B.year=V,B.time=W,B.nano=tt),B}function x(B){var K=new Date(0);return K.setTime(B),K}function w(V,P){V=+V||0;var F=c((P=(P|0)*a)/n)+c(V/n),P=P%n+V%n,V=c(P/n);return V&&(F+=V,P-=V*n),new p(1e3*P,0,F*e)}function b(B,K,F,P,V,W){return function(C,R){var U=y(this);C=C||new Array(8),E(C,R|=0);var _=Math.floor(U.time/1e3),U=U.year*(r*t/e),N=c(U/a)+c(_/a),U=U%a+_%a,_=Math.floor(U/a);return _&&(N+=_,U-=_*a),tt(C,R+V,N),tt(C,R+W,U),C};function tt(C,R,N){C[R+B]=N>>24&255,C[R+K]=N>>16&255,C[R+F]=N>>8&255,C[R+P]=255&N}}function k(B,K,F,P,V,W){return function(C,R){E(C,R|=0);var N=tt(C,R+V);return w(tt(C,R+W),N)};function tt(C,R){return 16777216*C[R+B]+(C[R+K]<<16|C[R+F]<<8|C[R+P])}}function E(B,K){if(B=B&&B.length,B==null)throw new TypeError("Invalid Buffer");if(B<K+8)throw new RangeError("Out of range")}function S(B){return(9<B?"":"0")+(0|B)}function L(B,K){return(f+(0|B)).substr(-K)}}()});var o2={};kt(o2,{create:()=>t2,createWithExpiration:()=>e2,extractPublicKey:()=>ll,getLocalKey:()=>n2,marshal:()=>pl,namespace:()=>bl,namespaceLength:()=>jg,peerIdFromRoutingKey:()=>xl,peerIdToRoutingKey:()=>gl,unmarshal:()=>yl});var Lb=Bt(En(),1),Ub=Bt(C0(),1);var at=class extends Error{code;props;constructor(e,r,n){super(e),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}};var ng=Bt(pt(),1);function Fr(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var To={};kt(To,{base10:()=>lp});function ap(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,f=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var p=0,y=0,x=0,w=d.length;x!==w&&d[x]===0;)x++,p++;for(var b=(w-x)*u+1>>>0,k=new Uint8Array(b);x!==w;){for(var E=d[x],S=0,L=b-1;(E!==0||S<y)&&L!==-1;L--,S++)E+=256*k[L]>>>0,k[L]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");y=S,x++}for(var B=b-y;B!==b&&k[B]===0;)B++;for(var K=f.repeat(p);B<b;++B)K+=t.charAt(k[B]);return K}function h(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var p=0;if(d[p]!==" "){for(var y=0,x=0;d[p]===f;)y++,p++;for(var w=(d.length-p)*c+1>>>0,b=new Uint8Array(w);d[p];){var k=r[d.charCodeAt(p)];if(k===255)return;for(var E=0,S=w-1;(k!==0||E<x)&&S!==-1;S--,E++)k+=s*b[S]>>>0,b[S]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");x=E,p++}if(d[p]!==" "){for(var L=w-x;L!==w&&b[L]===0;)L++;for(var B=new Uint8Array(y+(w-L)),K=y;L!==w;)B[K++]=b[L++];return B}}}function g(d){var p=h(d);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:g}}var sp=ap,fp=sp,A0=fp;var U2=new Uint8Array(0);var T0=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Me=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var _0=t=>new TextEncoder().encode(t),I0=t=>new TextDecoder().decode(t);var So=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Bo=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return N0(this,e)}},Co=class{constructor(e){this.decoders=e}or(e){return N0(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},N0=(t,e)=>new Co({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Ao=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new So(e,r,n),this.decoder=new Bo(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Mr=({name:t,prefix:e,encode:r,decode:n})=>new Ao(t,e,r,n),er=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=A0(r,e);return Mr({prefix:t,name:e,encode:n,decode:o=>Me(i(o))})},cp=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,f=0,c=0;for(let u=0;u<o;++u){let l=i[t[u]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|l,s+=r,s>=8&&(s-=8,a[c++]=255&f>>s)}if(s>=r||255&f<<8-s)throw new SyntaxError("Unexpected end of data");return a},up=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let f=0;f<t.length;++f)for(s=s<<8|t[f],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},Ct=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Mr({prefix:e,name:t,encode(i){return up(i,n,r)},decode(i){return cp(i,n,r,t)}});var lp=er({prefix:"9",name:"base10",alphabet:"0123456789"});var _o={};kt(_o,{base16:()=>hp,base16upper:()=>dp});var hp=Ct({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dp=Ct({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Io={};kt(Io,{base2:()=>pp});var pp=Ct({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ro={};kt(Ro,{base256emoji:()=>vp});var D0=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),yp=D0.reduce((t,e,r)=>(t[r]=e,t),[]),gp=D0.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function xp(t){return t.reduce((e,r)=>(e+=yp[r],e),"")}function mp(t){let e=[];for(let r of t){let n=gp[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var vp=Mr({prefix:"\u{1F680}",name:"base256emoji",encode:xp,decode:mp});var Do={};kt(Do,{base32:()=>rr,base32hex:()=>Ep,base32hexpad:()=>Bp,base32hexpadupper:()=>Cp,base32hexupper:()=>Sp,base32pad:()=>bp,base32padupper:()=>wp,base32upper:()=>No,base32z:()=>Ap});var rr=Ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),No=Ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bp=Ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wp=Ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ep=Ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Sp=Ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bp=Ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Cp=Ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ap=Ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ko={};kt(ko,{base36:()=>Tp,base36upper:()=>_p});var Tp=er({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_p=er({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Lo={};kt(Lo,{base58btc:()=>Vt,base58flickr:()=>Ip});var Vt=er({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ip=er({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Uo={};kt(Uo,{base64:()=>Vr,base64pad:()=>Rp,base64url:()=>Np,base64urlpad:()=>Dp});var Vr=Ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rp=Ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Np=Ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Dp=Ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Po={};kt(Po,{base8:()=>kp});var kp=Ct({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ko={};kt(Ko,{identity:()=>Lp});var Lp=Mr({prefix:"\0",name:"identity",encode:t=>I0(t),decode:t=>_0(t)});var Q2=new TextEncoder,X2=new TextDecoder;var Fo={};kt(Fo,{identity:()=>_e});var Kp=U0,k0=128,Op=127,Fp=~Op,Mp=Math.pow(2,31);function U0(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Mp;)e[r++]=t&255|k0,t/=128;for(;t&Fp;)e[r++]=t&255|k0,t>>>=7;return e[r]=t|0,U0.bytes=r-n+1,e}var Vp=Oo,qp=128,L0=127;function Oo(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw Oo.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&L0)<<i:(a&L0)*Math.pow(2,i),i+=7}while(a>=qp);return Oo.bytes=o-n,r}var Hp=Math.pow(2,7),zp=Math.pow(2,14),Gp=Math.pow(2,21),$p=Math.pow(2,28),Yp=Math.pow(2,35),Wp=Math.pow(2,42),Zp=Math.pow(2,49),Qp=Math.pow(2,56),Xp=Math.pow(2,63),Jp=function(t){return t<Hp?1:t<zp?2:t<Gp?3:t<$p?4:t<Yp?5:t<Wp?6:t<Zp?7:t<Qp?8:t<Xp?9:10},jp={encode:Kp,decode:Vp,encodingLength:Jp},ty=jp,Cn=ty;var An=(t,e=0)=>[Cn.decode(t,e),Cn.decode.bytes],qr=(t,e,r=0)=>(Cn.encode(t,e,r),e),Hr=t=>Cn.encodingLength(t);var Te=(t,e)=>{let r=e.byteLength,n=Hr(t),i=n+Hr(r),o=new Uint8Array(i+r);return qr(t,o,0),qr(r,o,n),o.set(e,i),new zr(t,r,e,o)},vr=t=>{let e=Me(t),[r,n]=An(e),[i,o]=An(e.subarray(n)),a=e.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new zr(r,i,a,e)},P0=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&T0(t.bytes,r.bytes)}},zr=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var K0=0,ey="identity",O0=Me,ry=t=>Te(K0,O0(t)),_e={code:K0,name:ey,encode:O0,digest:ry};var qo={};kt(qo,{sha256:()=>qt,sha512:()=>ny});var Vo=({name:t,code:e,encode:r})=>new Mo(t,e,r),Mo=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Te(this.code,r):r.then(n=>Te(this.code,n))}else throw Error("Unknown type, must be binary type")}};var M0=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),qt=Vo({name:"sha2-256",code:18,encode:M0("SHA-256")}),ny=Vo({name:"sha2-512",code:19,encode:M0("SHA-512")});var V0=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return oy(r,Ho(t),e||Vt.encoder);default:return ay(r,Ho(t),e||rr.encoder)}};var q0=new WeakMap,Ho=t=>{let e=q0.get(t);if(e==null){let r=new Map;return q0.set(t,r),r}return e},wr=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Tn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==sy)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Te(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&P0(e.multihash,n.multihash)}toString(e){return V0(this,e)}toJSON(){return{"/":V0(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:a}=r;return new t(n,i,o,a||H0(n,i,o.bytes))}else if(r[fy]===!0){let{version:n,multihash:i,code:o}=r,a=vr(i);return t.create(n,o,a)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Tn)throw new Error(`Version 0 CID must use dag-pb (code: ${Tn}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=H0(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Tn,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=Me(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),a=new zr(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(a):t.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,h]=An(e.subarray(r));return r+=h,l},i=n(),o=Tn;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,s=n(),f=n(),c=r+f,u=c-a;return{version:i,codec:o,multihashCode:s,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[n,i]=iy(e,r),o=t.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Ho(o).set(n,e),o}},iy=(t,e)=>{switch(t[0]){case"Q":{let r=e||Vt;return[Vt.prefix,r.decode(`${Vt.prefix}${t}`)]}case Vt.prefix:{let r=e||Vt;return[Vt.prefix,r.decode(t)]}case rr.prefix:{let r=e||rr;return[rr.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},oy=(t,e,r)=>{let{prefix:n}=r;if(n!==Vt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},ay=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},Tn=112,sy=18,H0=(t,e,r)=>{let n=Hr(t),i=n+Hr(e),o=new Uint8Array(i+r.byteLength);return qr(t,o,0),qr(e,o,n),o.set(r,i),o},fy=Symbol.for("@ipld/js-cid/CID");var Gr={...Ko,...Io,...Po,...To,..._o,...Do,...ko,...Lo,...Uo,...Ro},dx={...qo,...Fo};function di(t=0){return globalThis.Buffer?.allocUnsafe!=null?Fr(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function G0(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var z0=G0("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),zo=G0("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=di(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),cy={utf8:z0,"utf-8":z0,hex:Gr.base16,latin1:zo,ascii:zo,binary:zo,...Gr},pi=cy;function Tt(t,e="utf8"){let r=pi[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Fr(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Aa={};kt(Aa,{Ed25519PrivateKey:()=>_r,Ed25519PublicKey:()=>Ln,generateKeyPair:()=>T1,generateKeyPairFromSeed:()=>sc,unmarshalEd25519PrivateKey:()=>C1,unmarshalEd25519PublicKey:()=>A1});function Yt(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function $0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Go(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Y0(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$0(t.outputLen),$0(t.blockLen)}function $r(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function W0(t,e){Go(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var yi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Z0=t=>t instanceof Uint8Array;var gi=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),de=(t,e)=>t<<32-e|t>>>e,uy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!uy)throw new Error("Non little-endian hardware is not supported");function $o(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _n(t){if(typeof t=="string"&&(t=$o(t)),!Z0(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function xi(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Z0(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var Yr=class{clone(){return this._cloneInto()}},Tx={}.toString;function mi(t){let e=n=>t().update(_n(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Wr(t=32){if(yi&&typeof yi.getRandomValues=="function")return yi.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function ly(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),f=n?4:0,c=n?0:4;t.setUint32(e+f,a,n),t.setUint32(e+c,s,n)}var Zr=class extends Yr{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gi(this.buffer)}update(e){$r(this);let{view:r,buffer:n,blockLen:i}=this;e=_n(e);let o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let f=gi(e);for(;i<=o-a;a+=i)this.process(f,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$r(this),W0(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let l=a;l<i;l++)r[l]=0;ly(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=gi(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)s.setUint32(4*l,u[l],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%r&&e.buffer.set(n),e}};var vi=BigInt(4294967295),Yo=BigInt(32);function Q0(t,e=!1){return e?{h:Number(t&vi),l:Number(t>>Yo&vi)}:{h:Number(t>>Yo&vi)|0,l:Number(t&vi)|0}}function hy(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:a}=Q0(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}var dy=(t,e)=>BigInt(t>>>0)<<Yo|BigInt(e>>>0),py=(t,e,r)=>t>>>r,yy=(t,e,r)=>t<<32-r|e>>>r,gy=(t,e,r)=>t>>>r|e<<32-r,xy=(t,e,r)=>t<<32-r|e>>>r,my=(t,e,r)=>t<<64-r|e>>>r-32,vy=(t,e,r)=>t>>>r-32|e<<64-r,by=(t,e)=>e,wy=(t,e)=>t,Ey=(t,e,r)=>t<<r|e>>>32-r,Sy=(t,e,r)=>e<<r|t>>>32-r,By=(t,e,r)=>e<<r-32|t>>>64-r,Cy=(t,e,r)=>t<<r-32|e>>>64-r;function Ay(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Ty=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),_y=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Iy=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Ry=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Ny=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Dy=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var ky={fromBig:Q0,split:hy,toBig:dy,shrSH:py,shrSL:yy,rotrSH:gy,rotrSL:xy,rotrBH:my,rotrBL:vy,rotr32H:by,rotr32L:wy,rotlSH:Ey,rotlSL:Sy,rotlBH:By,rotlBL:Cy,add:Ay,add3L:Ty,add3H:_y,add4L:Iy,add4H:Ry,add5H:Dy,add5L:Ny},j=ky;var[Ly,Uy]=(()=>j.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),nr=new Uint32Array(80),ir=new Uint32Array(80),Wo=class extends Zr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:f,Eh:c,El:u,Fh:l,Fl:h,Gh:g,Gl:d,Hh:p,Hl:y}=this;return[e,r,n,i,o,a,s,f,c,u,l,h,g,d,p,y]}set(e,r,n,i,o,a,s,f,c,u,l,h,g,d,p,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=l|0,this.Fl=h|0,this.Gh=g|0,this.Gl=d|0,this.Hh=p|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)nr[b]=e.getUint32(r),ir[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){let k=nr[b-15]|0,E=ir[b-15]|0,S=j.rotrSH(k,E,1)^j.rotrSH(k,E,8)^j.shrSH(k,E,7),L=j.rotrSL(k,E,1)^j.rotrSL(k,E,8)^j.shrSL(k,E,7),B=nr[b-2]|0,K=ir[b-2]|0,F=j.rotrSH(B,K,19)^j.rotrBH(B,K,61)^j.shrSH(B,K,6),P=j.rotrSL(B,K,19)^j.rotrBL(B,K,61)^j.shrSL(B,K,6),V=j.add4L(L,P,ir[b-7],ir[b-16]),W=j.add4H(V,S,F,nr[b-7],nr[b-16]);nr[b]=W|0,ir[b]=V|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:f,Dh:c,Dl:u,Eh:l,El:h,Fh:g,Fl:d,Gh:p,Gl:y,Hh:x,Hl:w}=this;for(let b=0;b<80;b++){let k=j.rotrSH(l,h,14)^j.rotrSH(l,h,18)^j.rotrBH(l,h,41),E=j.rotrSL(l,h,14)^j.rotrSL(l,h,18)^j.rotrBL(l,h,41),S=l&g^~l&p,L=h&d^~h&y,B=j.add5L(w,E,L,Uy[b],ir[b]),K=j.add5H(B,x,k,S,Ly[b],nr[b]),F=B|0,P=j.rotrSH(n,i,28)^j.rotrBH(n,i,34)^j.rotrBH(n,i,39),V=j.rotrSL(n,i,28)^j.rotrBL(n,i,34)^j.rotrBL(n,i,39),W=n&o^n&s^o&s,tt=i&a^i&f^a&f;x=p|0,w=y|0,p=g|0,y=d|0,g=l|0,d=h|0,{h:l,l:h}=j.add(c|0,u|0,K|0,F|0),c=s|0,u=f|0,s=o|0,f=a|0,o=n|0,a=i|0;let C=j.add3L(F,V,tt);n=j.add3H(C,K,P,W),i=C|0}({h:n,l:i}=j.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=j.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l:f}=j.add(this.Ch|0,this.Cl|0,s|0,f|0),{h:c,l:u}=j.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:l,l:h}=j.add(this.Eh|0,this.El|0,l|0,h|0),{h:g,l:d}=j.add(this.Fh|0,this.Fl|0,g|0,d|0),{h:p,l:y}=j.add(this.Gh|0,this.Gl|0,p|0,y|0),{h:x,l:w}=j.add(this.Hh|0,this.Hl|0,x|0,w|0),this.set(n,i,o,a,s,f,c,u,l,h,g,d,p,y,x,w)}roundClean(){nr.fill(0),ir.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Zo=mi(()=>new Wo);var Ei={};kt(Ei,{bitGet:()=>qy,bitLen:()=>Vy,bitMask:()=>In,bitSet:()=>Hy,bytesToHex:()=>Ve,bytesToNumberBE:()=>qe,bytesToNumberLE:()=>or,concatBytes:()=>He,createHmacDrbg:()=>Jo,ensureBytes:()=>At,equalBytes:()=>Fy,hexToBytes:()=>Er,hexToNumber:()=>Xo,numberToBytesBE:()=>ar,numberToBytesLE:()=>Sr,numberToHexUnpadded:()=>j0,numberToVarBytesBE:()=>Oy,utf8ToBytes:()=>My,validateObject:()=>Ie});var J0=BigInt(0),bi=BigInt(1),Py=BigInt(2),wi=t=>t instanceof Uint8Array,Ky=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ve(t){if(!wi(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Ky[t[r]];return e}function j0(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Xo(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Er(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function qe(t){return Xo(Ve(t))}function or(t){if(!wi(t))throw new Error("Uint8Array expected");return Xo(Ve(Uint8Array.from(t).reverse()))}function ar(t,e){return Er(t.toString(16).padStart(e*2,"0"))}function Sr(t,e){return ar(t,e).reverse()}function Oy(t){return Er(j0(t))}function At(t,e,r){let n;if(typeof e=="string")try{n=Er(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(wi(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function He(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!wi(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Fy(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function My(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Vy(t){let e;for(e=0;t>J0;t>>=bi,e+=1);return e}function qy(t,e){return t>>BigInt(e)&bi}var Hy=(t,e,r)=>t|(r?bi:J0)<<BigInt(e),In=t=>(Py<<BigInt(t-1))-bi,Qo=t=>new Uint8Array(t),X0=t=>Uint8Array.from(t);function Jo(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Qo(t),i=Qo(t),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...l)=>r(i,n,...l),f=(l=Qo())=>{i=s(X0([0]),l),n=s(),l.length!==0&&(i=s(X0([1]),l),n=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,h=[];for(;l<e;){n=s();let g=n.slice();h.push(g),l+=n.length}return He(...h)};return(l,h)=>{a(),f(l);let g;for(;!(g=h(c()));)f();return a(),g}}var zy={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ie(t,e,r={}){let n=(i,o,a)=>{let s=zy[o];if(typeof s!="function")throw new Error(`Invalid validator "${o}", expected function`);let f=t[i];if(!(a&&f===void 0)&&!s(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Dt=BigInt(0),bt=BigInt(1),Br=BigInt(2),Gy=BigInt(3),jo=BigInt(4),tf=BigInt(5),ef=BigInt(8),$y=BigInt(9),Yy=BigInt(16);function yt(t,e){let r=t%e;return r>=Dt?r:e+r}function Wy(t,e,r){if(r<=Dt||e<Dt)throw new Error("Expected power/modulo > 0");if(r===bt)return Dt;let n=bt;for(;e>Dt;)e&bt&&(n=n*t%r),t=t*t%r,e>>=bt;return n}function wt(t,e,r){let n=t;for(;e-- >Dt;)n*=n,n%=r;return n}function Si(t,e){if(t===Dt||e<=Dt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=yt(t,e),n=e,i=Dt,o=bt,a=bt,s=Dt;for(;r!==Dt;){let c=n/r,u=n%r,l=i-a*c,h=o-s*c;n=r,r=u,i=a,o=s,a=l,s=h}if(n!==bt)throw new Error("invert: does not exist");return yt(i,e)}function Zy(t){let e=(t-bt)/Br,r,n,i;for(r=t-bt,n=0;r%Br===Dt;r/=Br,n++);for(i=Br;i<t&&Wy(i,e,t)!==t-bt;i++);if(n===1){let a=(t+bt)/jo;return function(f,c){let u=f.pow(c,a);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}let o=(r+bt)/Br;return function(s,f){if(s.pow(f,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=n,u=s.pow(s.mul(s.ONE,i),r),l=s.pow(f,o),h=s.pow(f,r);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let g=1;for(let p=s.sqr(h);g<c&&!s.eql(p,s.ONE);g++)p=s.sqr(p);let d=s.pow(u,bt<<BigInt(c-g-1));u=s.sqr(d),l=s.mul(l,d),h=s.mul(h,u),c=g}return l}}function Qy(t){if(t%jo===Gy){let e=(t+bt)/jo;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%ef===tf){let e=(t-tf)/ef;return function(n,i){let o=n.mul(i,Br),a=n.pow(o,e),s=n.mul(i,a),f=n.mul(n.mul(s,Br),a),c=n.mul(s,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return t%Yy,Zy(t)}var rf=(t,e)=>(yt(t,e)&bt)===bt,Xy=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ta(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Xy.reduce((n,i)=>(n[i]="function",n),e);return Ie(t,r)}function Jy(t,e,r){if(r<Dt)throw new Error("Expected power > 0");if(r===Dt)return t.ONE;if(r===bt)return e;let n=t.ONE,i=e;for(;r>Dt;)r&bt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=bt;return n}function jy(t,e){let r=new Array(e.length),n=e.reduce((o,a,s)=>t.is0(a)?o:(r[s]=o,t.mul(o,a)),t.ONE),i=t.inv(n);return e.reduceRight((o,a,s)=>t.is0(a)?o:(r[s]=t.mul(o,r[s]),t.mul(o,a)),i),r}function ea(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Bi(t,e,r=!1,n={}){if(t<=Dt)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=ea(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=Qy(t),s=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:In(i),ZERO:Dt,ONE:bt,create:f=>yt(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Dt<=f&&f<t},is0:f=>f===Dt,isOdd:f=>(f&bt)===bt,neg:f=>yt(-f,t),eql:(f,c)=>f===c,sqr:f=>yt(f*f,t),add:(f,c)=>yt(f+c,t),sub:(f,c)=>yt(f-c,t),mul:(f,c)=>yt(f*c,t),pow:(f,c)=>Jy(s,f,c),div:(f,c)=>yt(f*Si(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>Si(f,t),sqrt:n.sqrt||(f=>a(s,f)),invertBatch:f=>jy(s,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?Sr(f,o):ar(f,o),fromBytes:f=>{if(f.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${f.length}`);return r?or(f):qe(f)}});return Object.freeze(s)}function nf(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function of(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function ra(t){let e=of(t);return e+Math.ceil(e/2)}function af(t,e,r=!1){let n=t.length,i=of(e),o=ra(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let a=r?qe(t):or(t),s=yt(a,e-bt)+bt;return r?Sr(s,i):ar(s,i)}var e1=BigInt(0),na=BigInt(1);function Ci(t,e){let r=(i,o)=>{let a=o.negate();return i?a:o},n=i=>{let o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,o){let a=t.ZERO,s=i;for(;o>e1;)o&na&&(a=a.add(s)),s=s.double(),o>>=na;return a},precomputeWindow(i,o){let{windows:a,windowSize:s}=n(o),f=[],c=i,u=c;for(let l=0;l<a;l++){u=c,f.push(u);for(let h=1;h<s;h++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,o,a){let{windows:s,windowSize:f}=n(i),c=t.ZERO,u=t.BASE,l=BigInt(2**i-1),h=2**i,g=BigInt(i);for(let d=0;d<s;d++){let p=d*f,y=Number(a&l);a>>=g,y>f&&(y-=h,a+=na);let x=p,w=p+Math.abs(y)-1,b=d%2!==0,k=y<0;y===0?u=u.add(r(b,o[x])):c=c.add(r(k,o[w]))}return{p:c,f:u}},wNAFCached(i,o,a,s){let f=i._WINDOW_SIZE||1,c=o.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&o.set(i,s(c))),this.wNAF(f,c,a)}}}function Rn(t){return ta(t.Fp),Ie(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ea(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var pe=BigInt(0),Xt=BigInt(1),Ai=BigInt(2),r1=BigInt(8),n1={zip215:!0};function i1(t){let e=Rn(t);return Ie(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Ti(t){let e=i1(t),{Fp:r,n,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:f}=e,c=Ai<<BigInt(s*8)-Xt,u=r.create,l=e.uvRatio||((U,_)=>{try{return{isValid:!0,value:r.sqrt(U*r.inv(_))}}catch{return{isValid:!1,value:pe}}}),h=e.adjustScalarBytes||(U=>U),g=e.domain||((U,_,H)=>{if(_.length||H)throw new Error("Contexts/pre-hash are not supported");return U}),d=U=>typeof U=="bigint"&&pe<U,p=(U,_)=>d(U)&&d(_)&&U<_,y=U=>U===pe||p(U,c);function x(U,_){if(p(U,_))return U;throw new Error(`Expected valid scalar < ${_}, got ${typeof U} ${U}`)}function w(U){return U===pe?U:x(U,n)}let b=new Map;function k(U){if(!(U instanceof E))throw new Error("ExtendedPoint expected")}class E{constructor(_,H,G,Z){if(this.ex=_,this.ey=H,this.ez=G,this.et=Z,!y(_))throw new Error("x required");if(!y(H))throw new Error("y required");if(!y(G))throw new Error("z required");if(!y(Z))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof E)throw new Error("extended point not allowed");let{x:H,y:G}=_||{};if(!y(H)||!y(G))throw new Error("invalid affine point");return new E(H,G,Xt,u(H*G))}static normalizeZ(_){let H=r.invertBatch(_.map(G=>G.ez));return _.map((G,Z)=>G.toAffine(H[Z])).map(E.fromAffine)}_setWindowSize(_){this._WINDOW_SIZE=_,b.delete(this)}assertValidity(){let{a:_,d:H}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:G,ey:Z,ez:et,et:nt}=this,dt=u(G*G),it=u(Z*Z),ct=u(et*et),It=u(ct*ct),St=u(dt*_),Ft=u(ct*u(St+it)),Mt=u(It+u(H*u(dt*it)));if(Ft!==Mt)throw new Error("bad point: equation left != right (1)");let Nt=u(G*Z),zt=u(et*nt);if(Nt!==zt)throw new Error("bad point: equation left != right (2)")}equals(_){k(_);let{ex:H,ey:G,ez:Z}=this,{ex:et,ey:nt,ez:dt}=_,it=u(H*dt),ct=u(et*Z),It=u(G*dt),St=u(nt*Z);return it===ct&&It===St}is0(){return this.equals(E.ZERO)}negate(){return new E(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:_}=e,{ex:H,ey:G,ez:Z}=this,et=u(H*H),nt=u(G*G),dt=u(Ai*u(Z*Z)),it=u(_*et),ct=H+G,It=u(u(ct*ct)-et-nt),St=it+nt,Ft=St-dt,Mt=it-nt,Nt=u(It*Ft),zt=u(St*Mt),Pe=u(It*Mt),dr=u(Ft*St);return new E(Nt,zt,dr,Pe)}add(_){k(_);let{a:H,d:G}=e,{ex:Z,ey:et,ez:nt,et:dt}=this,{ex:it,ey:ct,ez:It,et:St}=_;if(H===BigInt(-1)){let rs=u((et-Z)*(ct+it)),ns=u((et+Z)*(ct-it)),ji=u(ns-rs);if(ji===pe)return this.double();let is=u(nt*Ai*St),os=u(dt*Ai*It),as=os+is,ss=ns+rs,fs=os-is,Al=u(as*ji),Tl=u(ss*fs),_l=u(as*fs),Il=u(ji*ss);return new E(Al,Tl,Il,_l)}let Ft=u(Z*it),Mt=u(et*ct),Nt=u(dt*G*St),zt=u(nt*It),Pe=u((Z+et)*(it+ct)-Ft-Mt),dr=zt-Nt,mn=zt+Nt,es=u(Mt-H*Ft),El=u(Pe*dr),Sl=u(mn*es),Bl=u(Pe*es),Cl=u(dr*mn);return new E(El,Sl,Cl,Bl)}subtract(_){return this.add(_.negate())}wNAF(_){return B.wNAFCached(this,b,_,E.normalizeZ)}multiply(_){let{p:H,f:G}=this.wNAF(x(_,n));return E.normalizeZ([H,G])[0]}multiplyUnsafe(_){let H=w(_);return H===pe?L:this.equals(L)||H===Xt?this:this.equals(S)?this.wNAF(H).p:B.unsafeLadder(this,H)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return B.unsafeLadder(this,n).is0()}toAffine(_){let{ex:H,ey:G,ez:Z}=this,et=this.is0();_==null&&(_=et?r1:r.inv(Z));let nt=u(H*_),dt=u(G*_),it=u(Z*_);if(et)return{x:pe,y:Xt};if(it!==Xt)throw new Error("invZ was invalid");return{x:nt,y:dt}}clearCofactor(){let{h:_}=e;return _===Xt?this:this.multiplyUnsafe(_)}static fromHex(_,H=!1){let{d:G,a:Z}=e,et=r.BYTES;_=At("pointHex",_,et);let nt=_.slice(),dt=_[et-1];nt[et-1]=dt&-129;let it=or(nt);it===pe||(H?x(it,c):x(it,r.ORDER));let ct=u(it*it),It=u(ct-Xt),St=u(G*ct-Z),{isValid:Ft,value:Mt}=l(It,St);if(!Ft)throw new Error("Point.fromHex: invalid y coordinate");let Nt=(Mt&Xt)===Xt,zt=(dt&128)!==0;if(!H&&Mt===pe&&zt)throw new Error("Point.fromHex: x=0 and x_0=1");return zt!==Nt&&(Mt=u(-Mt)),E.fromAffine({x:Mt,y:it})}static fromPrivateKey(_){return P(_).point}toRawBytes(){let{x:_,y:H}=this.toAffine(),G=Sr(H,r.BYTES);return G[G.length-1]|=_&Xt?128:0,G}toHex(){return Ve(this.toRawBytes())}}E.BASE=new E(e.Gx,e.Gy,Xt,u(e.Gx*e.Gy)),E.ZERO=new E(pe,Xt,Xt,pe);let{BASE:S,ZERO:L}=E,B=Ci(E,s*8);function K(U){return yt(U,n)}function F(U){return K(or(U))}function P(U){let _=s;U=At("private key",U,_);let H=At("hashed private key",o(U),2*_),G=h(H.slice(0,_)),Z=H.slice(_,2*_),et=F(G),nt=S.multiply(et),dt=nt.toRawBytes();return{head:G,prefix:Z,scalar:et,point:nt,pointBytes:dt}}function V(U){return P(U).pointBytes}function W(U=new Uint8Array,..._){let H=He(..._);return F(o(g(H,At("context",U),!!i)))}function tt(U,_,H={}){U=At("message",U),i&&(U=i(U));let{prefix:G,scalar:Z,pointBytes:et}=P(_),nt=W(H.context,G,U),dt=S.multiply(nt).toRawBytes(),it=W(H.context,dt,et,U),ct=K(nt+it*Z);w(ct);let It=He(dt,Sr(ct,r.BYTES));return At("result",It,s*2)}let C=n1;function R(U,_,H,G=C){let{context:Z,zip215:et}=G,nt=r.BYTES;U=At("signature",U,2*nt),_=At("message",_),i&&(_=i(_));let dt=or(U.slice(nt,2*nt)),it,ct,It;try{it=E.fromHex(H,et),ct=E.fromHex(U.slice(0,nt),et),It=S.multiplyUnsafe(dt)}catch{return!1}if(!et&&it.isSmallOrder())return!1;let St=W(Z,ct.toRawBytes(),it.toRawBytes(),_);return ct.add(it.multiplyUnsafe(St)).subtract(It).clearCofactor().equals(E.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:V,sign:tt,verify:R,ExtendedPoint:E,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>a(r.BYTES),precompute(U=8,_=E.BASE){return _._setWindowSize(U),_.multiply(BigInt(3)),_}}}}var oa=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sf=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Zx=BigInt(0),o1=BigInt(1),ia=BigInt(2),a1=BigInt(5),ff=BigInt(10),s1=BigInt(20),f1=BigInt(40),cf=BigInt(80);function c1(t){let e=oa,n=t*t%e*t%e,i=wt(n,ia,e)*n%e,o=wt(i,o1,e)*t%e,a=wt(o,a1,e)*o%e,s=wt(a,ff,e)*a%e,f=wt(s,s1,e)*s%e,c=wt(f,f1,e)*f%e,u=wt(c,cf,e)*c%e,l=wt(u,cf,e)*c%e,h=wt(l,ff,e)*a%e;return{pow_p_5_8:wt(h,ia,e)*t%e,b2:n}}function u1(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function l1(t,e){let r=oa,n=yt(e*e*e,r),i=yt(n*n*e,r),o=c1(t*i).pow_p_5_8,a=yt(t*n*o,r),s=yt(e*a*a,r),f=a,c=yt(a*sf,r),u=s===t,l=s===yt(-t,r),h=s===yt(-t*sf,r);return u&&(a=f),(l||h)&&(a=c),rf(a,r)&&(a=yt(-a,r)),{isValid:u||l,value:a}}var ze=Bi(oa,void 0,!0),aa={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ze,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Zo,randomBytes:Wr,adjustScalarBytes:u1,uvRatio:l1},Qr=Ti(aa);function uf(t,e,r){if(e.length>255)throw new Error("Context is too big");return xi($o("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var Qx=Ti({...aa,domain:uf}),Xx=Ti({...aa,domain:uf,prehash:Zo});var h1=(ze.ORDER+BigInt(3))/BigInt(8),Jx=ze.pow(ia,h1),jx=ze.sqrt(ze.neg(ze.ONE)),tm=(ze.ORDER-BigInt(5))/BigInt(8),em=BigInt(486662);var rm=nf(ze,ze.neg(BigInt(486664)));var nm=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),im=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),om=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),am=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var sm=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Xr=32,Ge=64,_i=32;async function lf(){let t=Qr.utils.randomPrivateKey(),e=Qr.getPublicKey(t);return{privateKey:yf(t,e),publicKey:e}}async function hf(t){if(t.length!==_i)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=Qr.getPublicKey(e);return{privateKey:yf(e,r),publicKey:r}}async function df(t,e){let r=t.subarray(0,_i);return Qr.sign(e,r)}async function pf(t,e,r){return Qr.verify(e,r,t)}function yf(t,e){let r=new Uint8Array(Ge);for(let n=0;n<_i;n++)r[n]=t[n],r[_i+n]=e[n];return r}function ye(t,e){e==null&&(e=t.reduce((i,o)=>i+o.length,0));let r=di(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Fr(r)}var Qt={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var sa={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function fa(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",o=t?.saltLength??16,a=t?.iterations??32767,s=Qt.get();r*=8;async function f(l,h){let g=s.getRandomValues(new Uint8Array(o)),d=s.getRandomValues(new Uint8Array(n)),p={name:e,iv:d};typeof h=="string"&&(h=Tt(h));let y;if(h.length===0){y=await s.subtle.importKey("jwk",sa,{name:"AES-GCM"},!0,["encrypt"]);try{let w={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},b=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);y=await s.subtle.deriveKey(w,b,{name:e,length:r},!0,["encrypt"])}catch{y=await s.subtle.importKey("jwk",sa,{name:"AES-GCM"},!0,["encrypt"])}}else{let w={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},b=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);y=await s.subtle.deriveKey(w,b,{name:e,length:r},!0,["encrypt"])}let x=await s.subtle.encrypt(p,y,l);return ye([g,p.iv,new Uint8Array(x)])}async function c(l,h){let g=l.subarray(0,o),d=l.subarray(o,o+n),p=l.subarray(o+n),y={name:e,iv:d};typeof h=="string"&&(h=Tt(h));let x;if(h.length===0)try{let b={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},k=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);x=await s.subtle.deriveKey(b,k,{name:e,length:r},!0,["decrypt"])}catch{x=await s.subtle.importKey("jwk",sa,{name:"AES-GCM"},!0,["decrypt"])}else{let b={name:"PBKDF2",salt:g,iterations:a,hash:{name:i}},k=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);x=await s.subtle.deriveKey(b,k,{name:e,length:r},!0,["decrypt"])}let w=await s.subtle.decrypt(y,x,p);return new Uint8Array(w)}return{encrypt:f,decrypt:c}}async function Jr(t,e){let n=await fa().encrypt(t,e);return Vr.encode(n)}var wa=Bt(da(),1),nc=Bt(Zf(),1),ic=Bt(Ar(),1),Ea=Bt(ba(),1),oc=Bt(rc(),1);function E1(){ic.default._configure(),wa.default._configure(nc.default),Ea.default._configure(oc.default)}E1();var ac=["uint64","int64","sint64","fixed64","sfixed64"];function S1(t){for(let e of ac){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function Sa(t){return S1(new wa.default(t))}function B1(t){for(let e of ac){if(t[e]==null)continue;let r=t[e];t[e]=function(n){return r.call(this,n.toString())}}return t}function Ba(){return B1(Ea.default.create())}function tn(t,e){let r=Sa(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}function en(t,e){let r=Ba();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var rn;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(rn||(rn={}));function ki(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function kn(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(o,a){let s=e(o);a.int32(s)},n=function(o){let a=o.int32();return e(a)};return ki("enum",rn.VARINT,r,n)}function nn(t,e){return ki("message",rn.LENGTH_DELIMITED,t,e)}var Et;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(Et||(Et={}));var Ca;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(Ca||(Ca={}));(function(t){t.codec=()=>kn(Ca)})(Et||(Et={}));var Ne;(function(t){let e;t.codec=()=>(e==null&&(e=nn((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Et.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=Et.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>en(r,t.codec()),t.decode=r=>tn(r,t.codec())})(Ne||(Ne={}));var De;(function(t){let e;t.codec=()=>(e==null&&(e=nn((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Et.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=Et.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>en(r,t.codec()),t.decode=r=>tn(r,t.codec())})(De||(De={}));var Ln=class{_key;constructor(e){this._key=on(e,Xr)}async verify(e,r){return pf(this._key,r,e)}marshal(){return this._key}get bytes(){return Ne.encode({Type:Et.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await qt.digest(this.bytes);return e}},_r=class{_key;_publicKey;constructor(e,r){this._key=on(e,Ge),this._publicKey=on(r,Xr)}async sign(e){return df(this._key,e)}get public(){return new Ln(this._publicKey)}marshal(){return this._key}get bytes(){return De.encode({Type:Et.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await qt.digest(this.bytes);return e}async id(){let e=_e.digest(this.public.bytes);return Vt.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return Jr(this.bytes,e);throw new at(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function C1(t){if(t.length>Ge){t=on(t,Ge+Xr);let n=t.subarray(0,Ge),i=t.subarray(Ge,t.length);return new _r(n,i)}t=on(t,Ge);let e=t.subarray(0,Ge),r=t.subarray(Xr);return new _r(e,r)}function A1(t){return t=on(t,Xr),new Ln(t)}async function T1(){let{privateKey:t,publicKey:e}=await lf();return new _r(t,e)}async function sc(t){let{privateKey:e,publicKey:r}=await hf(t);return new _r(e,r)}function on(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw new at(`Key must be a Uint8Array of length ${e}, got ${t.length}`,"ERR_INVALID_KEY_TYPE");return t}function Wt(t,e="utf8"){let r=pi[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var rv=Bt(Rt(),1),nv=Bt(fi(),1),fc=Bt(pt(),1);function ve(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=ye([new Uint8Array(e-r.length),r])}return Wt(r,"base64url")}function Jt(t){let e=cc(t);return new fc.default.jsbn.BigInteger(Wt(e,"base16"),16)}function cc(t,e){let r=Tt(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=ye([new Uint8Array(e-r.length),r])}return r}var _1={"P-256":256,"P-384":384,"P-521":521},I1=Object.keys(_1),pv=I1.join(" / ");var Na={};kt(Na,{MAX_KEY_SIZE:()=>On,RsaPrivateKey:()=>an,RsaPublicKey:()=>Kn,fromJwk:()=>M1,generateKeyPair:()=>V1,unmarshalRsaPrivateKey:()=>O1,unmarshalRsaPublicKey:()=>F1});var Pn=Bt(pt(),1);var Jv=Bt(pc(),1);function Ui(t){if(isNaN(t)||t<=0)throw new at("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return Wr(t)}var Lv=Bt(li(),1),Ia=Bt(pt(),1);function yc(t,e){return e.map(r=>Jt(t[r]))}function gc(t){return Ia.default.pki.setRsaPrivateKey(...yc(t,["n","e","d","p","q","dp","dq","qi"]))}function xc(t){return Ia.default.pki.setRsaPublicKey(...yc(t,["n","e"]))}var Rr={};kt(Rr,{jwkToPkcs1:()=>k1,jwkToPkix:()=>U1,pkcs1ToJwk:()=>D1,pkixToJwk:()=>L1});var Kv=Bt(En(),1),Ov=Bt(li(),1);var $e=Bt(pt(),1);function D1(t){let e=$e.default.asn1.fromDer(Wt(t,"ascii")),r=$e.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:ve(r.n),e:ve(r.e),d:ve(r.d),p:ve(r.p),q:ve(r.q),dp:ve(r.dP),dq:ve(r.dQ),qi:ve(r.qInv),alg:"RS256"}}function k1(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw new at("JWK was missing components","ERR_INVALID_PARAMETERS");let e=$e.default.pki.privateKeyToAsn1({n:Jt(t.n),e:Jt(t.e),d:Jt(t.d),p:Jt(t.p),q:Jt(t.q),dP:Jt(t.dp),dQ:Jt(t.dq),qInv:Jt(t.qi)});return Tt($e.default.asn1.toDer(e).getBytes(),"ascii")}function L1(t){let e=$e.default.asn1.fromDer(Wt(t,"ascii")),r=$e.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:ve(r.n),e:ve(r.e)}}function U1(t){if(t.n==null||t.e==null)throw new at("JWK was missing components","ERR_INVALID_PARAMETERS");let e=$e.default.pki.publicKeyToAsn1({n:Jt(t.n),e:Jt(t.e)});return Tt($e.default.asn1.toDer(e).getBytes(),"ascii")}async function mc(t){let e=await Qt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await wc(e);return{privateKey:r[0],publicKey:r[1]}}async function Ra(t){let r=[await Qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await P1(t)],n=await wc({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function vc(t,e){let r=await Qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Qt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,0,n.byteLength)}async function bc(t,e,r){let n=await Qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Qt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)}async function wc(t){if(t.privateKey==null||t.publicKey==null)throw new at("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([Qt.get().subtle.exportKey("jwk",t.privateKey),Qt.get().subtle.exportKey("jwk",t.publicKey)])}async function P1(t){return Qt.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function Ec(t,e,r,n){let i=e?xc(t):gc(t),o=Wt(Uint8Array.from(r),"ascii"),a=n(o,i);return Tt(a,"ascii")}function Sc(t,e){return Ec(t,!0,e,(r,n)=>n.encrypt(r))}function Bc(t,e){return Ec(t,!1,e,(r,n)=>n.decrypt(r))}function Pi(t){if(t.kty!=="RSA")throw new at("invalid key type","ERR_INVALID_KEY_TYPE");if(t.n==null)throw new at("invalid key modulus","ERR_INVALID_KEY_MODULUS");return Tt(t.n,"base64url").length*8}var On=8192,Kn=class{_key;constructor(e){this._key=e}async verify(e,r){return bc(this._key,r,e)}marshal(){return Rr.jwkToPkix(this._key)}get bytes(){return Ne.encode({Type:Et.RSA,Data:this.marshal()}).subarray()}encrypt(e){return Sc(this._key,e)}equals(e){return Yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await qt.digest(this.bytes);return e}},an=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Ui(16)}async sign(e){return vc(this._key,e)}get public(){if(this._publicKey==null)throw new at("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new Kn(this._publicKey)}decrypt(e){return Bc(this._key,e)}marshal(){return Rr.jwkToPkcs1(this._key)}get bytes(){return De.encode({Type:Et.RSA,Data:this.marshal()}).subarray()}equals(e){return Yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await qt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Wt(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Pn.default.util.ByteBuffer(this.marshal()),i=Pn.default.asn1.fromDer(n),o=Pn.default.pki.privateKeyFromAsn1(i),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Pn.default.pki.encryptRsaPrivateKey(o,e,a)}else{if(r==="libp2p-key")return Jr(this.bytes,e);throw new at(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function O1(t){let e=Rr.pkcs1ToJwk(t);if(Pi(e)>On)throw new at("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let r=await Ra(e);return new an(r.privateKey,r.publicKey)}function F1(t){let e=Rr.pkixToJwk(t);if(Pi(e)>On)throw new at("key size is too large","ERR_KEY_SIZE_TOO_LARGE");return new Kn(e)}async function M1(t){if(Pi(t)>On)throw new at("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await Ra(t);return new an(e.privateKey,e.publicKey)}async function V1(t){if(t>On)throw new at("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await mc(t);return new an(e.privateKey,e.publicKey)}var Ka={};kt(Ka,{Secp256k1PrivateKey:()=>Mn,Secp256k1PublicKey:()=>Fn,generateKeyPair:()=>rg,unmarshalSecp256k1PrivateKey:()=>tg,unmarshalSecp256k1PublicKey:()=>eg});var q1=(t,e,r)=>t&e^~t&r,H1=(t,e,r)=>t&e^t&r^e&r,z1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ur=new Uint32Array(64),Da=class extends Zr{constructor(){super(64,32,8,!1),this.A=cr[0]|0,this.B=cr[1]|0,this.C=cr[2]|0,this.D=cr[3]|0,this.E=cr[4]|0,this.F=cr[5]|0,this.G=cr[6]|0,this.H=cr[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:f}=this;return[e,r,n,i,o,a,s,f]}set(e,r,n,i,o,a,s,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)ur[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){let h=ur[l-15],g=ur[l-2],d=de(h,7)^de(h,18)^h>>>3,p=de(g,17)^de(g,19)^g>>>10;ur[l]=p+ur[l-7]+d+ur[l-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){let h=de(s,6)^de(s,11)^de(s,25),g=u+h+q1(s,f,c)+z1[l]+ur[l]|0,p=(de(n,2)^de(n,13)^de(n,22))+H1(n,i,o)|0;u=c,c=f,f=s,s=a+g|0,a=o,o=i,i=n,n=g+p|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,f,c,u)}roundClean(){ur.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Cc=mi(()=>new Da);function G1(t){let e=Rn(t);Ie(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:$1,hexToBytes:Y1}=Ei,Nr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Nr;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:$1(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Nr,r=typeof t=="string"?Y1(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=Nr._parseInt(r.subarray(2)),{d:a,l:s}=Nr._parseInt(o);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{let u=c.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,a=i.length/2,s=r(o),f=r(a);return`30${r(a+o+4)}02${f}${i}02${s}${n}`}},Ye=BigInt(0),fe=BigInt(1),sb=BigInt(2),Ac=BigInt(3),fb=BigInt(4);function W1(t){let e=G1(t),{Fp:r}=e,n=e.toBytes||((d,p,y)=>{let x=p.toAffine();return He(Uint8Array.from([4]),r.toBytes(x.x),r.toBytes(x.y))}),i=e.fromBytes||(d=>{let p=d.subarray(1),y=r.fromBytes(p.subarray(0,r.BYTES)),x=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:y,y:x}});function o(d){let{a:p,b:y}=e,x=r.sqr(d),w=r.mul(x,d);return r.add(r.add(w,r.mul(d,p)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(d){return typeof d=="bigint"&&Ye<d&&d<e.n}function s(d){if(!a(d))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(d){let{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:x,n:w}=e;if(p&&typeof d!="bigint"){if(d instanceof Uint8Array&&(d=Ve(d)),typeof d!="string"||!p.includes(d.length))throw new Error("Invalid key");d=d.padStart(y*2,"0")}let b;try{b=typeof d=="bigint"?d:qe(At("private key",d,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof d}`)}return x&&(b=yt(b,w)),s(b),b}let c=new Map;function u(d){if(!(d instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(p,y,x){if(this.px=p,this.py=y,this.pz=x,p==null||!r.isValid(p))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(x==null||!r.isValid(x))throw new Error("z required")}static fromAffine(p){let{x:y,y:x}=p||{};if(!p||!r.isValid(y)||!r.isValid(x))throw new Error("invalid affine point");if(p instanceof l)throw new Error("projective point not allowed");let w=b=>r.eql(b,r.ZERO);return w(y)&&w(x)?l.ZERO:new l(y,x,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){let y=r.invertBatch(p.map(x=>x.pz));return p.map((x,w)=>x.toAffine(y[w])).map(l.fromAffine)}static fromHex(p){let y=l.fromAffine(i(At("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return l.BASE.multiply(f(p))}_setWindowSize(p){this._WINDOW_SIZE=p,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:p,y}=this.toAffine();if(!r.isValid(p)||!r.isValid(y))throw new Error("bad point: x or y not FE");let x=r.sqr(y),w=o(p);if(!r.eql(x,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:p}=this.toAffine();if(r.isOdd)return!r.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);let{px:y,py:x,pz:w}=this,{px:b,py:k,pz:E}=p,S=r.eql(r.mul(y,E),r.mul(b,w)),L=r.eql(r.mul(x,E),r.mul(k,w));return S&&L}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){let{a:p,b:y}=e,x=r.mul(y,Ac),{px:w,py:b,pz:k}=this,E=r.ZERO,S=r.ZERO,L=r.ZERO,B=r.mul(w,w),K=r.mul(b,b),F=r.mul(k,k),P=r.mul(w,b);return P=r.add(P,P),L=r.mul(w,k),L=r.add(L,L),E=r.mul(p,L),S=r.mul(x,F),S=r.add(E,S),E=r.sub(K,S),S=r.add(K,S),S=r.mul(E,S),E=r.mul(P,E),L=r.mul(x,L),F=r.mul(p,F),P=r.sub(B,F),P=r.mul(p,P),P=r.add(P,L),L=r.add(B,B),B=r.add(L,B),B=r.add(B,F),B=r.mul(B,P),S=r.add(S,B),F=r.mul(b,k),F=r.add(F,F),B=r.mul(F,P),E=r.sub(E,B),L=r.mul(F,K),L=r.add(L,L),L=r.add(L,L),new l(E,S,L)}add(p){u(p);let{px:y,py:x,pz:w}=this,{px:b,py:k,pz:E}=p,S=r.ZERO,L=r.ZERO,B=r.ZERO,K=e.a,F=r.mul(e.b,Ac),P=r.mul(y,b),V=r.mul(x,k),W=r.mul(w,E),tt=r.add(y,x),C=r.add(b,k);tt=r.mul(tt,C),C=r.add(P,V),tt=r.sub(tt,C),C=r.add(y,w);let R=r.add(b,E);return C=r.mul(C,R),R=r.add(P,W),C=r.sub(C,R),R=r.add(x,w),S=r.add(k,E),R=r.mul(R,S),S=r.add(V,W),R=r.sub(R,S),B=r.mul(K,C),S=r.mul(F,W),B=r.add(S,B),S=r.sub(V,B),B=r.add(V,B),L=r.mul(S,B),V=r.add(P,P),V=r.add(V,P),W=r.mul(K,W),C=r.mul(F,C),V=r.add(V,W),W=r.sub(P,W),W=r.mul(K,W),C=r.add(C,W),P=r.mul(V,C),L=r.add(L,P),P=r.mul(R,C),S=r.mul(tt,S),S=r.sub(S,P),P=r.mul(tt,V),B=r.mul(R,B),B=r.add(B,P),new l(S,L,B)}subtract(p){return this.add(p.negate())}is0(){return this.equals(l.ZERO)}wNAF(p){return g.wNAFCached(this,c,p,y=>{let x=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(x[b])).map(l.fromAffine)})}multiplyUnsafe(p){let y=l.ZERO;if(p===Ye)return y;if(s(p),p===fe)return this;let{endo:x}=e;if(!x)return g.unsafeLadder(this,p);let{k1neg:w,k1:b,k2neg:k,k2:E}=x.splitScalar(p),S=y,L=y,B=this;for(;b>Ye||E>Ye;)b&fe&&(S=S.add(B)),E&fe&&(L=L.add(B)),B=B.double(),b>>=fe,E>>=fe;return w&&(S=S.negate()),k&&(L=L.negate()),L=new l(r.mul(L.px,x.beta),L.py,L.pz),S.add(L)}multiply(p){s(p);let y=p,x,w,{endo:b}=e;if(b){let{k1neg:k,k1:E,k2neg:S,k2:L}=b.splitScalar(y),{p:B,f:K}=this.wNAF(E),{p:F,f:P}=this.wNAF(L);B=g.constTimeNegate(k,B),F=g.constTimeNegate(S,F),F=new l(r.mul(F.px,b.beta),F.py,F.pz),x=B.add(F),w=K.add(P)}else{let{p:k,f:E}=this.wNAF(y);x=k,w=E}return l.normalizeZ([x,w])[0]}multiplyAndAddUnsafe(p,y,x){let w=l.BASE,b=(E,S)=>S===Ye||S===fe||!E.equals(w)?E.multiplyUnsafe(S):E.multiply(S),k=b(this,y).add(b(p,x));return k.is0()?void 0:k}toAffine(p){let{px:y,py:x,pz:w}=this,b=this.is0();p==null&&(p=b?r.ONE:r.inv(w));let k=r.mul(y,p),E=r.mul(x,p),S=r.mul(w,p);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:k,y:E}}isTorsionFree(){let{h:p,isTorsionFree:y}=e;if(p===fe)return!0;if(y)return y(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:p,clearCofactor:y}=e;return p===fe?this:y?y(l,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),n(l,this,p)}toHex(p=!0){return Ve(this.toRawBytes(p))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);let h=e.nBitLength,g=Ci(l,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:a}}function Z1(t){let e=Rn(t);return Ie(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Tc(t){let e=Z1(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function a(C){return Ye<C&&C<r.ORDER}function s(C){return yt(C,n)}function f(C){return Si(C,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=W1({...e,toBytes(C,R,N){let U=R.toAffine(),_=r.toBytes(U.x),H=He;return N?H(Uint8Array.from([R.hasEvenY()?2:3]),_):H(Uint8Array.from([4]),_,r.toBytes(U.y))},fromBytes(C){let R=C.length,N=C[0],U=C.subarray(1);if(R===i&&(N===2||N===3)){let _=qe(U);if(!a(_))throw new Error("Point is not on curve");let H=l(_),G=r.sqrt(H),Z=(G&fe)===fe;return(N&1)===1!==Z&&(G=r.neg(G)),{x:_,y:G}}else if(R===o&&N===4){let _=r.fromBytes(U.subarray(0,r.BYTES)),H=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:_,y:H}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),g=C=>Ve(ar(C,e.nByteLength));function d(C){let R=n>>fe;return C>R}function p(C){return d(C)?s(-C):C}let y=(C,R,N)=>qe(C.slice(R,N));class x{constructor(R,N,U){this.r=R,this.s=N,this.recovery=U,this.assertValidity()}static fromCompact(R){let N=e.nByteLength;return R=At("compactSignature",R,N*2),new x(y(R,0,N),y(R,N,2*N))}static fromDER(R){let{r:N,s:U}=Nr.toSig(At("DER",R));return new x(N,U)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new x(this.r,this.s,R)}recoverPublicKey(R){let{r:N,s:U,recovery:_}=this,H=L(At("msgHash",R));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");let G=_===2||_===3?N+e.n:N;if(G>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let Z=_&1?"03":"02",et=c.fromHex(Z+g(G)),nt=f(G),dt=s(-H*nt),it=s(U*nt),ct=c.BASE.multiplyAndAddUnsafe(et,dt,it);if(!ct)throw new Error("point at infinify");return ct.assertValidity(),ct}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Er(this.toDERHex())}toDERHex(){return Nr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Er(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let w={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let C=ra(e.n);return af(e.randomBytes(C),e.n)},precompute(C=8,R=c.BASE){return R._setWindowSize(C),R.multiply(BigInt(3)),R}};function b(C,R=!0){return c.fromPrivateKey(C).toRawBytes(R)}function k(C){let R=C instanceof Uint8Array,N=typeof C=="string",U=(R||N)&&C.length;return R?U===i||U===o:N?U===2*i||U===2*o:C instanceof c}function E(C,R,N=!0){if(k(C))throw new Error("first arg must be private key");if(!k(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(u(C)).toRawBytes(N)}let S=e.bits2int||function(C){let R=qe(C),N=C.length*8-e.nBitLength;return N>0?R>>BigInt(N):R},L=e.bits2int_modN||function(C){return s(S(C))},B=In(e.nBitLength);function K(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ye<=C&&C<B))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ar(C,e.nByteLength)}function F(C,R,N=P){if(["recovered","canonical"].some(St=>St in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:_}=e,{lowS:H,prehash:G,extraEntropy:Z}=N;H==null&&(H=!0),C=At("msgHash",C),G&&(C=At("prehashed msgHash",U(C)));let et=L(C),nt=u(R),dt=[K(nt),K(et)];if(Z!=null){let St=Z===!0?_(r.BYTES):Z;dt.push(At("extraEntropy",St))}let it=He(...dt),ct=et;function It(St){let Ft=S(St);if(!h(Ft))return;let Mt=f(Ft),Nt=c.BASE.multiply(Ft).toAffine(),zt=s(Nt.x);if(zt===Ye)return;let Pe=s(Mt*s(ct+zt*nt));if(Pe===Ye)return;let dr=(Nt.x===zt?0:2)|Number(Nt.y&fe),mn=Pe;return H&&d(Pe)&&(mn=p(Pe),dr^=1),new x(zt,mn,dr)}return{seed:it,k2sig:It}}let P={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function W(C,R,N=P){let{seed:U,k2sig:_}=F(C,R,N),H=e;return Jo(H.hash.outputLen,H.nByteLength,H.hmac)(U,_)}c.BASE._setWindowSize(8);function tt(C,R,N,U=V){let _=C;if(R=At("msgHash",R),N=At("publicKey",N),"strict"in U)throw new Error("options.strict was renamed to lowS");let{lowS:H,prehash:G}=U,Z,et;try{if(typeof _=="string"||_ instanceof Uint8Array)try{Z=x.fromDER(_)}catch(Nt){if(!(Nt instanceof Nr.Err))throw Nt;Z=x.fromCompact(_)}else if(typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint"){let{r:Nt,s:zt}=_;Z=new x(Nt,zt)}else throw new Error("PARSE");et=c.fromHex(N)}catch(Nt){if(Nt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&Z.hasHighS())return!1;G&&(R=e.hash(R));let{r:nt,s:dt}=Z,it=L(R),ct=f(dt),It=s(it*ct),St=s(nt*ct),Ft=c.BASE.multiplyAndAddUnsafe(et,It,St)?.toAffine();return Ft?s(Ft.x)===nt:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:W,verify:tt,ProjectivePoint:c,Signature:x,utils:w}}var Ki=class extends Yr{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Y0(e);let n=_n(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return $r(this),this.iHash.update(e),this}digestInto(e){$r(this),Go(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ka=(t,e,r)=>new Ki(t,e).update(r).digest();ka.create=(t,e)=>new Ki(t,e);function Q1(t){return{hash:t,hmac:(e,...r)=>ka(t,e,xi(...r)),randomBytes:Wr}}function _c(t,e){let r=n=>Tc({...t,...Q1(n)});return Object.freeze({...r(e),create:r})}var Nc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ic=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X1=BigInt(1),La=BigInt(2),Rc=(t,e)=>(t+e/La)/e;function J1(t){let e=Nc,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=wt(u,r,e)*u%e,h=wt(l,r,e)*u%e,g=wt(h,La,e)*c%e,d=wt(g,i,e)*g%e,p=wt(d,o,e)*d%e,y=wt(p,s,e)*p%e,x=wt(y,f,e)*y%e,w=wt(x,s,e)*p%e,b=wt(w,r,e)*u%e,k=wt(b,a,e)*d%e,E=wt(k,n,e)*c%e,S=wt(E,La,e);if(!Ua.eql(Ua.sqr(S),t))throw new Error("Cannot find square root");return S}var Ua=Bi(Nc,void 0,void 0,{sqrt:J1}),We=_c({a:BigInt(0),b:BigInt(7),Fp:Ua,n:Ic,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Ic,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-X1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=Rc(o*t,e),f=Rc(-n*t,e),c=yt(t-s*r-f*i,e),u=yt(-s*n-f*o,e),l=c>a,h=u>a;if(l&&(c=e-c),h&&(u=e-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:h,k2:u}}}},Cc),bb=BigInt(0);var wb=We.ProjectivePoint;function Dc(){return We.utils.randomPrivateKey()}async function kc(t,e){let{digest:r}=await qt.digest(e);try{return We.sign(r,t).toDERRawBytes()}catch(n){throw new at(String(n),"ERR_INVALID_INPUT")}}async function Lc(t,e,r){try{let{digest:n}=await qt.digest(r);return We.verify(e,n,t)}catch(n){throw new at(String(n),"ERR_INVALID_INPUT")}}function Uc(t){return We.ProjectivePoint.fromHex(t).toRawBytes(!0)}function Pc(t){try{We.getPublicKey(t,!0)}catch(e){throw new at(String(e),"ERR_INVALID_PRIVATE_KEY")}}function Pa(t){try{We.ProjectivePoint.fromHex(t)}catch(e){throw new at(String(e),"ERR_INVALID_PUBLIC_KEY")}}function Kc(t){try{return We.getPublicKey(t,!0)}catch(e){throw new at(String(e),"ERR_INVALID_PRIVATE_KEY")}}var Fn=class{_key;constructor(e){Pa(e),this._key=e}async verify(e,r){return Lc(this._key,r,e)}marshal(){return Uc(this._key)}get bytes(){return Ne.encode({Type:Et.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await qt.digest(this.bytes);return e}},Mn=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r??Kc(e),Pc(this._key),Pa(this._publicKey)}async sign(e){return kc(this._key,e)}get public(){return new Fn(this._publicKey)}marshal(){return this._key}get bytes(){return De.encode({Type:Et.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await qt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Wt(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return Jr(this.bytes,e);throw new at(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function tg(t){return new Mn(t)}function eg(t){return new Fn(t)}async function rg(){let t=Dc();return new Mn(t)}var Dr={rsa:Na,ed25519:Aa,secp256k1:Ka};function Oc(t){let e=Object.keys(Dr).join(" / ");return new at(`invalid or unsupported key type ${t}. Must be ${e}`,"ERR_UNSUPPORTED_KEY_TYPE")}function Oa(t){let e=Ne.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case Et.RSA:return Dr.rsa.unmarshalRsaPublicKey(r);case Et.Ed25519:return Dr.ed25519.unmarshalEd25519PublicKey(r);case Et.Secp256k1:return Dr.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw Oc(e.Type??"RSA")}}async function Fc(t){let e=De.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case Et.RSA:return Dr.rsa.unmarshalRsaPrivateKey(r);case Et.Ed25519:return Dr.ed25519.unmarshalEd25519PrivateKey(r);case Et.Secp256k1:return Dr.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Oc(e.Type??"RSA")}}var te=Bt(zc(),1);te.default.formatters.b=t=>t==null?"undefined":Vt.baseEncode(t);te.default.formatters.t=t=>t==null?"undefined":rr.baseEncode(t);te.default.formatters.m=t=>t==null?"undefined":Vr.baseEncode(t);te.default.formatters.p=t=>t==null?"undefined":t.toString();te.default.formatters.c=t=>t==null?"undefined":t.toString();te.default.formatters.k=t=>t==null?"undefined":t.toString();te.default.formatters.a=t=>t==null?"undefined":t.toString();function gg(t){let e=()=>{};return e.enabled=!1,e.color="",e.diff=0,e.log=()=>{},e.namespace=t,e.destroy=()=>!0,e.extend=()=>e,e}function Mi(t){let e=gg(`${t}:trace`);return te.default.enabled(`${t}:trace`)&&te.default.names.map(r=>r.toString()).find(r=>r.includes(":trace"))!=null&&(e=(0,te.default)(`${t}:trace`)),Object.assign((0,te.default)(t),{error:(0,te.default)(`${t}:error`),trace:e})}var ja=Bt(Fa(),1);var Yc=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var Ze="/",Wc=new TextEncoder().encode(Ze),Vi=Wc[0],qi=class t{_buf;constructor(e,r){if(typeof e=="string")this._buf=Tt(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Vi)throw new Error("Invalid key")}toString(e="utf8"){return Wt(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new t(e.join(Ze))}static random(){return new t(Yc().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new t(e):typeof e.uint8Array=="function"?new t(e.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=Wc),this._buf[0]!==Vi){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Vi,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Vi;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let o=r[i],a=n[i];if(o<a)return!0;if(o>a)return!1}return r.length<n.length}reverse(){return t.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Ze).slice(1)}type(){return mg(this.baseNamespace())}name(){return vg(this.baseNamespace())}instance(e){return new t(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Ze)||(e+=Ze),e+=this.type(),new t(e)}parent(){let e=this.list();return e.length===1?new t(Ze):new t(e.slice(0,-1).join(Ze))}child(e){return this.toString()===Ze?e:e.toString()===Ze?this:new t(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return t.withNamespaces([...this.namespaces(),...bg(e.map(r=>r.namespaces()))])}};function mg(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function vg(t){let e=t.split(":");return e[e.length-1]}function bg(t){return[].concat(...t)}var ts=Bt(Zc(),1);var Qc="ERR_UNRECOGNIZED_VALIDITY",Xc="ERR_SIGNATURE_CREATION";var Va="ERR_UNDEFINED_PARAMETER";var Jc="ERR_INVALID_EMBEDDED_KEY",jc="ERR_MISSING_PRIVATE_KEY";var ke;(function(t){let e;(function(i){i.EOL="EOL"})(e=t.ValidityType||(t.ValidityType={}));let r;(function(i){i[i.EOL=0]="EOL"})(r||(r={})),function(i){i.codec=()=>kn(r)}(e=t.ValidityType||(t.ValidityType={}));let n;t.codec=()=>(n==null&&(n=nn((i,o,a={})=>{a.lengthDelimited!==!1&&o.fork(),i.value!=null&&(o.uint32(10),o.bytes(i.value)),i.signature!=null&&(o.uint32(18),o.bytes(i.signature)),i.validityType!=null&&(o.uint32(24),t.ValidityType.codec().encode(i.validityType,o)),i.validity!=null&&(o.uint32(34),o.bytes(i.validity)),i.sequence!=null&&(o.uint32(40),o.uint64(i.sequence)),i.ttl!=null&&(o.uint32(48),o.uint64(i.ttl)),i.pubKey!=null&&(o.uint32(58),o.bytes(i.pubKey)),i.signatureV2!=null&&(o.uint32(66),o.bytes(i.signatureV2)),i.data!=null&&(o.uint32(74),o.bytes(i.data)),a.lengthDelimited!==!1&&o.ldelim()},(i,o)=>{let a={},s=o==null?i.len:i.pos+o;for(;i.pos<s;){let f=i.uint32();switch(f>>>3){case 1:a.value=i.bytes();break;case 2:a.signature=i.bytes();break;case 3:a.validityType=t.ValidityType.codec().decode(i);break;case 4:a.validity=i.bytes();break;case 5:a.sequence=i.uint64();break;case 6:a.ttl=i.uint64();break;case 7:a.pubKey=i.bytes();break;case 8:a.signatureV2=i.bytes();break;case 9:a.data=i.bytes();break;default:i.skipType(f&7);break}}return a})),n),t.encode=i=>en(i,t.codec()),t.decode=i=>tn(i,t.codec())})(ke||(ke={}));var eu=Symbol.for("@libp2p/peer-id");var wg=Symbol.for("nodejs.util.inspect.custom"),ru=Object.values(Gr).map(t=>t.decoder).reduce((t,e)=>t.or(e),Gr.identity.decoder),nu=114,qa=36,Ha=37,Vn=class{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[eu]=!0;toString(){return this.string==null&&(this.string=Vt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return wr.createV1(nu,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return Yt(this.multihash.bytes,e);if(typeof e=="string")return Eg(e).equals(this);if(e?.multihash?.bytes!=null)return Yt(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[wg](){return`PeerId(${this.toString()})`}},un=class extends Vn{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}},ln=class extends Vn{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}},hn=class extends Vn{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}};function Eg(t,e){if(e=e??ru,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=vr(Vt.decode(`z${t}`));return t.startsWith("12D")?new ln({multihash:r}):t.startsWith("16U")?new hn({multihash:r}):new un({multihash:r})}return za(ru.decode(t))}function za(t){try{let e=vr(t);if(e.code===_e.code){if(e.digest.length===qa)return new ln({multihash:e});if(e.digest.length===Ha)return new hn({multihash:e})}if(e.code===qt.code)return new un({multihash:e})}catch{return Sg(wr.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function Sg(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==nu)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===qt.code)return new un({multihash:t.multihash});if(e.code===_e.code){if(e.digest.length===qa)return new ln({multihash:t.multihash});if(e.digest.length===Ha)return new hn({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function iu(t,e){return t.length===qa?new ln({multihash:Te(_e.code,t),privateKey:e}):t.length===Ha?new hn({multihash:Te(_e.code,t),privateKey:e}):new un({multihash:await qt.digest(t),publicKey:t,privateKey:e})}var Bg=["string","number","bigint","symbol"],Cg=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function ou(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(Bg.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(Ag(t))return"Buffer";let r=Tg(t);return r||"Object"}function Ag(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function Tg(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Cg.includes(e))return e}var T=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};T.uint=new T(0,"uint",!0);T.negint=new T(1,"negint",!0);T.bytes=new T(2,"bytes",!0);T.string=new T(3,"string",!0);T.array=new T(4,"array",!1);T.map=new T(5,"map",!1);T.tag=new T(6,"tag",!1);T.float=new T(7,"float",!0);T.false=new T(7,"false",!0);T.true=new T(7,"true",!0);T.null=new T(7,"null",!0);T.undefined=new T(7,"undefined",!0);T.break=new T(7,"break",!0);var z=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var dn=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",_g=new TextDecoder,Ig=new TextEncoder;function Hi(t){return dn&&globalThis.Buffer.isBuffer(t)}function Ga(t){return t instanceof Uint8Array?Hi(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var cu=dn?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):su(t,e,r):(t,e,r)=>r-e>64?_g.decode(t.subarray(e,r)):su(t,e,r),uu=dn?t=>t.length>64?globalThis.Buffer.from(t):au(t):t=>t.length>64?Ig.encode(t):au(t),Le=t=>Uint8Array.from(t),pn=dn?(t,e,r)=>Hi(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),lu=dn?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Ga(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let i of t)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},hu=dn?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function du(t,e){if(Hi(t)&&Hi(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function au(t){let e=[],r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e}function su(t,e,r){let n=[];for(;e<r;){let i=t[e],o=null,a=i>239?4:i>223?3:i>191?2:1;if(e+a<=r){let s,f,c,u;switch(a){case 1:i<128&&(o=i);break;case 2:s=t[e+1],(s&192)===128&&(u=(i&31)<<6|s&63,u>127&&(o=u));break;case 3:s=t[e+1],f=t[e+2],(s&192)===128&&(f&192)===128&&(u=(i&15)<<12|(s&63)<<6|f&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:s=t[e+1],f=t[e+2],c=t[e+3],(s&192)===128&&(f&192)===128&&(c&192)===128&&(u=(i&15)<<18|(s&63)<<12|(f&63)<<6|c&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),e+=a}return Rg(n)}var fu=4096;function Rg(t){let e=t.length;if(e<=fu)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=fu));return r}var Ng=256,qn=class{constructor(e=Ng){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(e,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=hu(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=pn(n,0,this.cursor)}else r=lu(this.chunks,this.cursor);return e&&this.reset(),r}};var ut="CBOR decode error:",$a="CBOR encode error:",Hn=[];Hn[23]=1;Hn[24]=2;Hn[25]=3;Hn[26]=5;Hn[27]=9;function Qe(t,e,r){if(t.length-e<r)throw new Error(`${ut} not enough data for type`)}var Ot=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ee(t,e,r){Qe(t,e,1);let n=t[e];if(r.strict===!0&&n<Ot[0])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);return n}function re(t,e,r){Qe(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<Ot[1])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);return n}function ne(t,e,r){Qe(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<Ot[2])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);return n}function ie(t,e,r){Qe(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&o<Ot[3])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${ut} integers outside of the safe integer range are not supported`)}function pu(t,e,r,n){return new z(T.uint,ee(t,e+1,n),2)}function yu(t,e,r,n){return new z(T.uint,re(t,e+1,n),3)}function gu(t,e,r,n){return new z(T.uint,ne(t,e+1,n),5)}function xu(t,e,r,n){return new z(T.uint,ie(t,e+1,n),9)}function ce(t,e){return Ht(t,0,e.value)}function Ht(t,e,r){if(r<Ot[0]){let n=Number(r);t.push([e|n])}else if(r<Ot[1]){let n=Number(r);t.push([e|24,n])}else if(r<Ot[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<Ot[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<Ot[4]){let i=[e|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=a&255,a=a>>8,i[3]=a&255,a=a>>8,i[2]=a&255,a=a>>8,i[1]=a&255,t.push(i)}else throw new Error(`${ut} encountered BigInt larger than allowable range`)}}ce.encodedSize=function(e){return Ht.encodedSize(e.value)};Ht.encodedSize=function(e){return e<Ot[0]?1:e<Ot[1]?2:e<Ot[2]?3:e<Ot[3]?5:9};ce.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function mu(t,e,r,n){return new z(T.negint,-1-ee(t,e+1,n),2)}function vu(t,e,r,n){return new z(T.negint,-1-re(t,e+1,n),3)}function bu(t,e,r,n){return new z(T.negint,-1-ne(t,e+1,n),5)}var Ya=BigInt(-1),wu=BigInt(1);function Eu(t,e,r,n){let i=ie(t,e+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new z(T.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${ut} integers outside of the safe integer range are not supported`);return new z(T.negint,Ya-BigInt(i),9)}function zi(t,e){let r=e.value,n=typeof r=="bigint"?r*Ya-wu:r*-1-1;Ht(t,e.type.majorEncoded,n)}zi.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*Ya-wu:r*-1-1;return n<Ot[0]?1:n<Ot[1]?2:n<Ot[2]?3:n<Ot[3]?5:9};zi.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function zn(t,e,r,n){Qe(t,e,r+n);let i=pn(t,e+r,e+r+n);return new z(T.bytes,i,r+n)}function Su(t,e,r,n){return zn(t,e,1,r)}function Bu(t,e,r,n){return zn(t,e,2,ee(t,e+1,n))}function Cu(t,e,r,n){return zn(t,e,3,re(t,e+1,n))}function Au(t,e,r,n){return zn(t,e,5,ne(t,e+1,n))}function Tu(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer bytes lengths not supported`);return zn(t,e,9,i)}function Gi(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===T.string?uu(t.value):t.value),t.encodedBytes}function yn(t,e){let r=Gi(e);Ht(t,e.type.majorEncoded,r.length),t.push(r)}yn.encodedSize=function(e){let r=Gi(e);return Ht.encodedSize(r.length)+r.length};yn.compareTokens=function(e,r){return kg(Gi(e),Gi(r))};function kg(t,e){return t.length<e.length?-1:t.length>e.length?1:du(t,e)}function Gn(t,e,r,n,i){let o=r+n;Qe(t,e,o);let a=new z(T.string,cu(t,e+r,e+o),o);return i.retainStringBytes===!0&&(a.byteValue=pn(t,e+r,e+o)),a}function _u(t,e,r,n){return Gn(t,e,1,r,n)}function Iu(t,e,r,n){return Gn(t,e,2,ee(t,e+1,n),n)}function Ru(t,e,r,n){return Gn(t,e,3,re(t,e+1,n),n)}function Nu(t,e,r,n){return Gn(t,e,5,ne(t,e+1,n),n)}function Du(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer string lengths not supported`);return Gn(t,e,9,i,n)}var ku=yn;function gn(t,e,r,n){return new z(T.array,n,r)}function Lu(t,e,r,n){return gn(t,e,1,r)}function Uu(t,e,r,n){return gn(t,e,2,ee(t,e+1,n))}function Pu(t,e,r,n){return gn(t,e,3,re(t,e+1,n))}function Ku(t,e,r,n){return gn(t,e,5,ne(t,e+1,n))}function Ou(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer array lengths not supported`);return gn(t,e,9,i)}function Fu(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${ut} indefinite length items not allowed`);return gn(t,e,1,1/0)}function $i(t,e){Ht(t,T.array.majorEncoded,e.value)}$i.compareTokens=ce.compareTokens;$i.encodedSize=function(e){return Ht.encodedSize(e.value)};function xn(t,e,r,n){return new z(T.map,n,r)}function Mu(t,e,r,n){return xn(t,e,1,r)}function Vu(t,e,r,n){return xn(t,e,2,ee(t,e+1,n))}function qu(t,e,r,n){return xn(t,e,3,re(t,e+1,n))}function Hu(t,e,r,n){return xn(t,e,5,ne(t,e+1,n))}function zu(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer map lengths not supported`);return xn(t,e,9,i)}function Gu(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${ut} indefinite length items not allowed`);return xn(t,e,1,1/0)}function Yi(t,e){Ht(t,T.map.majorEncoded,e.value)}Yi.compareTokens=ce.compareTokens;Yi.encodedSize=function(e){return Ht.encodedSize(e.value)};function $u(t,e,r,n){return new z(T.tag,r,1)}function Yu(t,e,r,n){return new z(T.tag,ee(t,e+1,n),2)}function Wu(t,e,r,n){return new z(T.tag,re(t,e+1,n),3)}function Zu(t,e,r,n){return new z(T.tag,ne(t,e+1,n),5)}function Qu(t,e,r,n){return new z(T.tag,ie(t,e+1,n),9)}function Wi(t,e){Ht(t,T.tag.majorEncoded,e.value)}Wi.compareTokens=ce.compareTokens;Wi.encodedSize=function(e){return Ht.encodedSize(e.value)};var Fg=20,Mg=21,Vg=22,qg=23;function Xu(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${ut} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new z(T.null,null,1):new z(T.undefined,void 0,1)}function Ju(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${ut} indefinite length items not allowed`);return new z(T.break,void 0,1)}function Wa(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${ut} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${ut} Infinity values are not supported`)}return new z(T.float,t,e)}function ju(t,e,r,n){return Wa(Za(t,e+1),3,n)}function tl(t,e,r,n){return Wa(Qa(t,e+1),5,n)}function el(t,e,r,n){return Wa(ol(t,e+1),9,n)}function Zi(t,e,r){let n=e.value;if(n===!1)t.push([T.float.majorEncoded|Fg]);else if(n===!0)t.push([T.float.majorEncoded|Mg]);else if(n===null)t.push([T.float.majorEncoded|Vg]);else if(n===void 0)t.push([T.float.majorEncoded|qg]);else{let i,o=!1;(!r||r.float64!==!0)&&(nl(n),i=Za(be,1),n===i||Number.isNaN(n)?(be[0]=249,t.push(be.slice(0,3)),o=!0):(il(n),i=Qa(be,1),n===i&&(be[0]=250,t.push(be.slice(0,5)),o=!0))),o||(Hg(n),i=ol(be,1),be[0]=251,t.push(be.slice(0,9)))}}Zi.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){nl(n);let i=Za(be,1);if(n===i||Number.isNaN(n))return 3;if(il(n),i=Qa(be,1),n===i)return 5}return 9};var rl=new ArrayBuffer(9),ue=new DataView(rl,1),be=new Uint8Array(rl,0);function nl(t){if(t===1/0)ue.setUint16(0,31744,!1);else if(t===-1/0)ue.setUint16(0,64512,!1);else if(Number.isNaN(t))ue.setUint16(0,32256,!1);else{ue.setFloat32(0,t);let e=ue.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)ue.setUint16(0,31744,!1);else if(r===0)ue.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?ue.setUint16(0,0):i<-14?ue.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):ue.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function Za(t,e){if(t.length-e<2)throw new Error(`${ut} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,r&32768?-o:o}function il(t){ue.setFloat32(0,t,!1)}function Qa(t,e){if(t.length-e<4)throw new Error(`${ut} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function Hg(t){ue.setFloat64(0,t,!1)}function ol(t,e){if(t.length-e<8)throw new Error(`${ut} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}Zi.compareTokens=ce.compareTokens;function lt(t,e,r){throw new Error(`${ut} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function Qi(t){return()=>{throw new Error(`${ut} ${t}`)}}var O=[];for(let t=0;t<=23;t++)O[t]=lt;O[24]=pu;O[25]=yu;O[26]=gu;O[27]=xu;O[28]=lt;O[29]=lt;O[30]=lt;O[31]=lt;for(let t=32;t<=55;t++)O[t]=lt;O[56]=mu;O[57]=vu;O[58]=bu;O[59]=Eu;O[60]=lt;O[61]=lt;O[62]=lt;O[63]=lt;for(let t=64;t<=87;t++)O[t]=Su;O[88]=Bu;O[89]=Cu;O[90]=Au;O[91]=Tu;O[92]=lt;O[93]=lt;O[94]=lt;O[95]=Qi("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)O[t]=_u;O[120]=Iu;O[121]=Ru;O[122]=Nu;O[123]=Du;O[124]=lt;O[125]=lt;O[126]=lt;O[127]=Qi("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)O[t]=Lu;O[152]=Uu;O[153]=Pu;O[154]=Ku;O[155]=Ou;O[156]=lt;O[157]=lt;O[158]=lt;O[159]=Fu;for(let t=160;t<=183;t++)O[t]=Mu;O[184]=Vu;O[185]=qu;O[186]=Hu;O[187]=zu;O[188]=lt;O[189]=lt;O[190]=lt;O[191]=Gu;for(let t=192;t<=215;t++)O[t]=$u;O[216]=Yu;O[217]=Wu;O[218]=Zu;O[219]=Qu;O[220]=lt;O[221]=lt;O[222]=lt;O[223]=lt;for(let t=224;t<=243;t++)O[t]=Qi("simple values are not supported");O[244]=lt;O[245]=lt;O[246]=lt;O[247]=Xu;O[248]=Qi("simple values are not supported");O[249]=ju;O[250]=tl;O[251]=el;O[252]=lt;O[253]=lt;O[254]=lt;O[255]=Ju;var Ue=[];for(let t=0;t<24;t++)Ue[t]=new z(T.uint,t,1);for(let t=-1;t>=-24;t--)Ue[31-t]=new z(T.negint,t,1);Ue[64]=new z(T.bytes,new Uint8Array(0),1);Ue[96]=new z(T.string,"",1);Ue[128]=new z(T.array,0,1);Ue[160]=new z(T.map,0,1);Ue[244]=new z(T.false,!1,1);Ue[245]=new z(T.true,!0,1);Ue[246]=new z(T.null,null,1);function al(t){switch(t.type){case T.false:return Le([244]);case T.true:return Le([245]);case T.null:return Le([246]);case T.bytes:return t.value.length?void 0:Le([64]);case T.string:return t.value===""?Le([96]):void 0;case T.array:return t.value===0?Le([128]):void 0;case T.map:return t.value===0?Le([160]):void 0;case T.uint:return t.value<24?Le([Number(t.value)]):void 0;case T.negint:if(t.value>=-24)return Le([31-Number(t.value)])}}var Gg={float64:!1,mapSorter:Wg,quickEncodeToken:al};function $g(){let t=[];return t[T.uint.major]=ce,t[T.negint.major]=zi,t[T.bytes.major]=yn,t[T.string.major]=ku,t[T.array.major]=$i,t[T.map.major]=Yi,t[T.tag.major]=Wi,t[T.float.major]=Zi,t}var sl=$g(),Xa=new qn,Ji=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${$a} object contains circular references`);return new t(r,e)}},lr={null:new z(T.null,null),undefined:new z(T.undefined,void 0),true:new z(T.true,!0),false:new z(T.false,!1),emptyArray:new z(T.array,0),emptyMap:new z(T.map,0)},hr={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new z(T.float,t):t>=0?new z(T.uint,t):new z(T.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new z(T.uint,t):new z(T.negint,t)},Uint8Array(t,e,r,n){return new z(T.bytes,t)},string(t,e,r,n){return new z(T.string,t)},boolean(t,e,r,n){return t?lr.true:lr.false},null(t,e,r,n){return lr.null},undefined(t,e,r,n){return lr.undefined},ArrayBuffer(t,e,r,n){return new z(T.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new z(T.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[lr.emptyArray,new z(T.break)]:lr.emptyArray;n=Ji.createCheck(n,t);let i=[],o=0;for(let a of t)i[o++]=Xi(a,r,n);return r.addBreakTokens?[new z(T.array,t.length),i,new z(T.break)]:[new z(T.array,t.length),i]},Object(t,e,r,n){let i=e!=="Object",o=i?t.keys():Object.keys(t),a=i?t.size:o.length;if(!a)return r.addBreakTokens===!0?[lr.emptyMap,new z(T.break)]:lr.emptyMap;n=Ji.createCheck(n,t);let s=[],f=0;for(let c of o)s[f++]=[Xi(c,r,n),Xi(i?t.get(c):t[c],r,n)];return Yg(s,r),r.addBreakTokens?[new z(T.map,a),s,new z(T.break)]:[new z(T.map,a),s]}};hr.Map=hr.Object;hr.Buffer=hr.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))hr[`${t}Array`]=hr.DataView;function Xi(t,e={},r){let n=ou(t),i=e&&e.typeEncoders&&e.typeEncoders[n]||hr[n];if(typeof i=="function"){let a=i(t,n,e,r);if(a!=null)return a}let o=hr[n];if(!o)throw new Error(`${$a} unsupported type: ${n}`);return o(t,n,e,r)}function Yg(t,e){e.mapSorter&&t.sort(e.mapSorter)}function Wg(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=sl[i].compareTokens(r,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function fl(t,e,r,n){if(Array.isArray(e))for(let i of e)fl(t,i,r,n);else r[e.type.major](t,e,n)}function Zg(t,e,r){let n=Xi(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=e[n.type.major];if(o.encodedSize){let a=o.encodedSize(n,r),s=new qn(a);if(o(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Ga(s.chunks[0])}}return Xa.reset(),fl(Xa,n,e,r),Xa.toBytes(!0)}function Ja(t,e){return e=Object.assign({},Gg,e),Zg(t,sl,e)}var s4=Symbol.for("DONE"),f4=Symbol.for("BREAK");var $n=Bt(Fa(),1);var cl=Mi("ipns:utils"),ul=Tt("/ipns/");var ll=async(t,e)=>{if(e==null||t==null){let n=new Error("one or more of the provided parameters are not defined");throw cl.error(n),(0,$n.default)(n,Va)}let r;if(e.pubKey!=null){try{r=Oa(e.pubKey)}catch(i){throw cl.error(i),i}if(!(await iu(e.pubKey)).equals(t))throw(0,$n.default)(new Error("Embedded public key did not match PeerID"),Jc)}else t.publicKey!=null&&(r=Oa(t.publicKey));if(r!=null)return r;throw(0,$n.default)(new Error("no public key is available"),Va)},hl=(t,e,r)=>{let n=Tt(e);return ye([t,r,n])},dl=t=>{let e=Tt("ipns-signature:");return ye([e,t])},pl=t=>ke.encode(t),yl=t=>{let e=ke.decode(t);return e.sequence!=null&&(e.sequence=BigInt(e.sequence)),e.ttl!=null&&(e.ttl=BigInt(e.ttl)),{value:e.value??new Uint8Array(0),signature:e.signature??new Uint8Array(0),validityType:e.validityType??ke.ValidityType.EOL,validity:e.validity??new Uint8Array(0),sequence:e.sequence??0n,pubKey:e.pubKey,ttl:e.ttl??void 0,signatureV2:e.signatureV2,data:e.data}},gl=t=>ye([ul,t.toBytes()]),xl=t=>za(t.slice(ul.length)),ml=(t,e,r,n,i)=>{let o;if(r===ke.ValidityType.EOL)o=0;else throw(0,$n.default)(new Error("Unknown validity type"),Qc);return Ja({Value:t,Validity:e,ValidityType:o,Sequence:n,TTL:i})};var vl=Mi("ipns"),Jg=_e.code,bl="/ipns/",jg=bl.length,t2=async(t,e,r,n)=>{let i=new ts.default(Date.now()+Number(n)),o=ke.ValidityType.EOL,[a,s]=n.toString().split("."),f=BigInt(a)*BigInt(1e5)+BigInt(s??"0");return wl(t,e,r,o,i,f)},e2=async(t,e,r,n)=>{let i=ts.default.fromString(n),o=ke.ValidityType.EOL,a=i.toDate().getTime()-Date.now(),s=BigInt(a)*BigInt(1e5)+BigInt(i.getNano());return wl(t,e,r,o,i,s)},wl=async(t,e,r,n,i,o)=>{r=BigInt(r);let a=Tt(i.toString());if(t.privateKey==null)throw(0,ja.default)(new Error("Missing private key"),jc);let s=await Fc(t.privateKey),f=await i2(s,e,n,a),c=ml(e,a,n,r,o),u=dl(c),l=await s.sign(u),h={value:e,signature:f,validityType:n,validity:a,sequence:r,ttl:o,signatureV2:l,data:c};if(t.publicKey!=null){let g=vr(t.toBytes());(g.code!==Jg||!Yt(t.publicKey,g.digest))&&(h.pubKey=t.publicKey)}return vl("ipns entry for %b created",e),h},r2=t=>No.encode(t).slice(1),n2=t=>new qi(`/ipns/${r2(t)}`),i2=async(t,e,r,n)=>{try{let i=hl(e,r,n);return await t.sign(i)}catch(i){throw vl.error("record signature creation failed",i),(0,ja.default)(new Error("record signature creation failed"),Xc)}};return Ul(o2);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
return Ipns}));
